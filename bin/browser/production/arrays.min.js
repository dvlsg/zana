!function(){"use strict";function e(e){function r(e,t,n,a,u){var i=a.sum(n);if(i===t)return void u.push(a);if(!(i>t)){for(var s=0;s<e.length;s++){for(var l=[],o=e[s],f=s+1;f<e.length;f++)l.push(e[f]);var m=a.deepCopy();m.push(o),r(l,t,n,m,u)}return u}}var t=e.arrays={};t.aggregate=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++],a=arguments[r++];e.assert.isNonEmptyArray(t);var u;n=e.lambda(n),u=null==a?t[0]:n(a,t[0]);for(var i=1;i<t.length;i++)u=n(u,t[i]);return u},t.any=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++];if(null==n)return t.length>0;n=e.lambda(n);for(var a=0;a<t.length;a++)if(n(t[a]))return!0;return!1},t.average=function(){var r=0,n=e.getType(this)===e.types.array?this:arguments[r++],a=arguments[r++];return t.sum(n,a)/n.length},t.contains=function(){var r,t,n=0,a=e.getType(this)===e.types.array?this:arguments[n++],u=arguments[n++],i=arguments[n++];if(r=e.check.isFunction(u)?function(e){return u(e)}:function(r,t){return e.equals(r,t)},null==i){for(t=0;t<a.length;t++)if(r(a[t],u))return!0}else for(i=e.lambda(i),t=0;t<a.length;t++)if(r(i(a[t]),u))return!0;return!1},t.count=function(){var r,t,n=0,a=e.getType(this)===e.types.array?this:arguments[n++],u=arguments[n++],i=arguments[n++],s=0;if(r=e.check.isFunction(u)?function(e){return u(e)}:function(r,t){return e.equals(r,t)},null==i)for(t=0;t<a.length;t++)r(a[t],u)&&s++;else for(i=e.lambda(i),t=0;t<a.length;t++)r(i(a[t]),u)&&s++;return s};var n=function(){return e.deepCopy(this)};t.distinct=function(){var r,t=0,n=e.getType(this)===e.types.array?this:arguments[t++],a=arguments[t++],u=[];if(null==a)for(r=0;r<n.length;r++)u.contains(n[r])||u.push(n[r]);else for(a=e.lambda(a),r=0;r<n.length;r++)u.contains(a(n[r]),a)||u.push(n[r]);return u};var a=function(r){return e.equals(this,r)};t.first=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++];if(null==n){if(t.length>0)return t[0]}else{n=e.lambda(n);for(var a=0;a<t.length;a++)if(n(t[a]))return t[a]}return null};var u=function(r,t){for(var n=0;n<r.length;n++){var a=r[n];e.check.isArray(a)?u(a,t):t.push(a)}return t};t.flatten=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++];return u(t,[])},t.innerJoin=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++];return{on:function(r){var a=[];r=e.lambda(r);for(var u=0;u<t.length;u++){e.check.isObject(t[u]);for(var i=0;i<n.length;i++)e.check.isObject(n[i]),r(t[u],n[i])&&a.push(e.smash({},t[u],n[i]))}return a}}},t.isEmpty=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++];if(t.length<1)return!0;for(var n=0;n<t.length;n++)if(e.check.exists(t[n]))return!1;return!0},t.isFull=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++];if(t.length<1)return!1;for(var n=0;n<t.length;n++)if(!e.check.exists(t[n]))return!1;return!0},t.last=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++];if(null==n){if(t.length>0)return t[t.length-1]}else{n=e.lambda(n);for(var a=t.length-1;a>=0;a--)if(n(t[a]))return t[a]}return null},t.max=function(){var r,t,n=0,a=e.getType(this)===e.types.array?this:arguments[n++],u=arguments[n++],i=Number.MIN_VALUE;if(null!=u)for(u=e.lambda(u),t=0;t<a.length;t++)r=u(a[t]),e.check.isNumber(r)&&r>i&&(i=r);else for(t=0;t<a.length;t++)r=a[t],e.check.isNumber(r)&&r>i&&(i=r);return i},t.min=function(){var r,t,n=0,a=e.getType(this)===e.types.array?this:arguments[n++],u=arguments[n++],i=Number.MAX_VALUE;if(null!=u)for(u=e.lambda(u),t=0;t<a.length;t++)r=u(a[t]),e.check.isNumber(r)&&i>r&&(i=r);else for(t=0;t<a.length;t++)r=a[t],e.check.isNumber(r)&&i>r&&(i=r);return i},t.mutate=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++];return n=e.lambda(n),e.check.isFunction(n)&&e.forEach(t,function(e,r){t[r]=n(t[r])}),t},t.orderBy=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++],a=arguments[r++];n=e.lambda(n),a=a||function(e,r){return n(e)>n(r)?1:n(e)<n(r)?-1:0};var u=t.where(function(e){return null!=n(e)}),i=t.where(function(e){return null==n(e)});return u.quicksort(a),u.concat(i)},t.quicksort=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++];n=e.getType(n)===e.types.string?e.lambda(n):n||function(e,r){return e>r?1:r>e?-1:0};var a=function(e,r,t,a){var u=n(e,r);return 0===u?t-a:u},u=function(e,r){do{var n=e,i=r,s=Math.floor((e+r)/2),l=t[s];do{for(;n<t.length&&a(t[n],l,n,s)<0;)n++;for(;i>=0&&a(l,t[i],s,i)<0;)i--;if(n>i)break;i>n&&t.swap(n,i),n++,i--}while(i>=n);r-n>=i-e?(i>e&&u(e,i),e=n):(r>n&&u(n,r),r=i)}while(r>e)};u(0,this.length-1)},t.quicksort3=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++];n=e.getType(n)===e.types.string?e.lambda(n):n||function(e,r){return e>r?1:r>e?-1:0};var a=function(e,r){for(var u=e,i=r,s=t[e],l=e+1;i>=l;){var o=n(t[l],s);0>o?t.swap(u++,l++):o>0?t.swap(l,i--):l++}u-1>e&&a(e,u-1),r>i+1&&a(i+1,r)};a(0,this.length-1)},t.remove=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++];n=e.lambda(n);for(var a=0;a<t.length;a++)n(t[a])&&t.splice(a,1);return t},t.removeAll=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++],a=0;n=e.lambda(n);for(var u=t.length-1;u>-1;u--)n(t[u])&&(t.splice(u,1),a++);return a},t.select=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++],a=[];n=e.lambda(n);for(var u=0;u<t.length;u++)a.push(n(t[u]));return a},t.shuffle=function(){for(var r=0,n=e.getType(this)===e.types.array?this:arguments[r++],a=n.length-1;a>=0;a--)t.swap(n,a,Math.floor(Math.random()*a));return n},t.skip=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++],a=[];0>n&&(n=0);for(var u=0;u<t.length-n&&n<=t.length;u++)a[u]=t[u+n];return a},t.subsetSum=function(){var t=0,n=e.getType(this)===e.types.array?this:arguments[t++],a=arguments[t++],u=arguments[t++];return e.check.isFunction(u)||(u=e.functions.identity),r(n,a,u,[],[])},t.sum=function(){var r,t=0,n=e.getType(this)===e.types.array?this:arguments[t++],a=arguments[t++],u=0;if(null!=a)for(a=e.lambda(a),r=0;r<n.length;r++){var i=a(n[r]);e.check.isNumber(i)&&(u+=i)}else for(r=0;r<n.length;r++)e.check.isNumber(n[r])&&(u+=n[r]);return u},t.swap=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++],a=arguments[r++],u=t[n];t[n]=t[a],t[a]=u},t.take=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++],a=[];0>n&&(n=0);for(var u=0;n>u&&u<t.length;u++)a[u]=t[u];return a},t.takeWhile=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++],a=[];n=e.lambda(n);for(var u=0;u<count&&n(t[u]);u++)a.push(t[u]);return a},t.where=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++];n=e.lambda(n);for(var a=[],u=0;u<t.length;u++)n(t[u],u,t)&&a.push(t[u]);return a},t.zip=function(){var r=0,t=e.getType(this)===e.types.array?this:arguments[r++],n=arguments[r++],a=arguments[r++];a=e.lambda(a);for(var u=this,i=[],s=0;s<u.length;s++)i.push(a(t[s],n[s]));return i},t.extendTo=function(r){e.defineProperty(r,"aggregate",{enumerable:!1,writable:!0,value:t.aggregate}),e.defineProperty(r,"any",{enumerable:!1,writable:!0,value:t.any}),e.defineProperty(r,"average",{enumerable:!1,writable:!0,value:t.average}),e.defineProperty(r,"contains",{enumerable:!1,writable:!0,value:t.contains}),e.defineProperty(r,"count",{enumerable:!1,writable:!0,value:t.count}),e.defineProperty(r,"deepCopy",{enumerable:!1,writable:!0,value:n}),e.defineProperty(r,"distinct",{enumerable:!1,writable:!0,value:t.distinct}),e.defineProperty(r,"equals",{enumerable:!1,writable:!0,value:a}),e.defineProperty(r,"first",{enumerable:!1,writable:!0,value:t.first}),e.defineProperty(r,"flatten",{enumerable:!1,writable:!0,value:t.flatten}),e.defineProperty(r,"innerJoin",{enumerable:!1,writable:!0,value:t.innerJoin}),e.defineProperty(r,"isEmpty",{enumerable:!1,writable:!0,value:t.isEmpty}),e.defineProperty(r,"isFull",{enumerable:!1,writable:!0,value:t.isFull}),e.defineProperty(r,"last",{enumerable:!1,writable:!0,value:t.last}),e.defineProperty(r,"max",{enumerable:!1,writable:!0,value:t.max}),e.defineProperty(r,"min",{enumerable:!1,writable:!0,value:t.min}),e.defineProperty(r,"mutate",{enumerable:!1,writable:!0,value:t.mutate}),e.defineProperty(r,"orderBy",{enumerable:!1,writable:!0,value:t.orderBy}),e.defineProperty(r,"quicksort",{enumerable:!1,writable:!0,value:t.quicksort}),e.defineProperty(r,"quicksort3",{enumerable:!1,writable:!0,value:t.quicksort3}),e.defineProperty(r,"remove",{enumerable:!1,writable:!0,value:t.remove}),e.defineProperty(r,"removeAll",{enumerable:!1,writable:!0,value:t.removeAll}),e.defineProperty(r,"select",{enumerable:!1,writable:!0,value:t.select}),e.defineProperty(r,"shuffle",{enumerable:!1,writable:!0,value:t.shuffle}),e.defineProperty(r,"skip",{enumerable:!1,writable:!0,value:t.skip}),e.defineProperty(r,"subsetSum",{enumerable:!1,writable:!0,value:t.subsetSum}),e.defineProperty(r,"sum",{enumerable:!1,writable:!0,value:t.sum}),e.defineProperty(r,"swap",{enumerable:!1,writable:!0,value:t.swap}),e.defineProperty(r,"take",{enumerable:!1,writable:!0,value:t.take}),e.defineProperty(r,"takeWhile",{enumerable:!1,writable:!0,value:t.takeWhile}),e.defineProperty(r,"where",{enumerable:!1,writable:!0,value:t.where}),e.defineProperty(r,"zip",{enumerable:!1,writable:!0,value:t.zip})},e.setup.initArrays=function(e){e&&t.extendTo(Array.prototype)}}var r="undefined"!=typeof window?window:"undefined"!=typeof global?global:this;"undefined"!=typeof define&&"undefined"!=typeof define.amd?(define(function(){return e}),r.z=z):"undefined"!=typeof module?"undefined"!=typeof module.exports&&(module.exports=e):"undefined"!=typeof r.z&&e(r.z)}();
//# sourceMappingURL=arrays.min.js.map
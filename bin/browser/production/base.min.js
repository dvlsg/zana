!function(e){"use strict";function t(){}var n=new t,r=function(){function e(e){this.xStack=[],this.yStack=[],this.count=0,this.maxStackDepth=e}return e.prototype.push=function(e,t){this.xStack.push(e),this.yStack.push(t),this.count++},e.prototype.pop=function(){this.xStack.pop(),this.yStack.pop(),this.count--},e}();n.getType=function(e){var t=typeof e;if("object"!==t)return t;if(null===e)return"null";switch(e.constructor){case Array:return"array";case String:return"string";case Number:return"number";case Boolean:return"boolean";case RegExp:return"regexp";case Date:return"date"}return"object"},n.coalesce=function(){for(var e=Array.prototype.slice.call(arguments),t=0;t<e.length;t++)if(n.check.exists(e[t]))return e[t];return null},n.deepCopy=function(e){function t(e,t){return i=s.xStack.indexOf(e),-1===i?(s.push(e,t),n.forEach(e,function(e,n){t[n]=c(e)}),s.pop(),t):s.yStack[i]}function u(e){var r=function(){return e.apply(e,arguments)};return n.forEach(e,function(e,t){r[t]=c(e)}),t(e,r)}function c(e){if(s.count>s.maxStackDepth)throw new Error("Stack depth exceeded: "+s.stackMaxDepth+"!");switch(n.getType(e)){case n.types.object:return t(e,Object.create(Object.getPrototypeOf(e)));case n.types.array:return t(e,[]);case n.types.regexp:return t(e,new RegExp(e));case n.types.date:return t(e,new Date(e.toString()));case n.types["function"]:return u(e);default:return e}}var i=-1,s=new r(1e3);return c(e)},n.defineProperty=function(e,t,n){null==e[t]?Object.defineProperty(e,t,n):console.error("Error: the method "+t+" has already been defined on the following object: "+e)},n.equals=function(e,t){function u(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.quicksort(),r.quicksort(),!c(n,r))return!1;i.push(e,t);for(var u in e)if(!c(e[u],t[u]))return!1;return i.pop(),!0}function c(e,t){if(i.count>i.maxStackDepth)throw new Error("Stack depth exceeded: "+i.maxStackDepth+"!");if(e===t)return!0;var r=n.getType(e),s=n.getType(t);if(r!==s)return!1;var a=i.xStack.lastIndexOf(e),o=i.yStack.lastIndexOf(t);if(-1!==a&&-1!==o)return!0;switch(r){case n.types.date:if(e.getTime()!==t.getTime())return!1;if(!u(e,t))return!1;break;case n.types["function"]:if(!u(e,t))return!1;break;case n.types.array:if(e.length!==t.length)return!1;i.push(e,t);for(var p=0;p<e.length;p++)if(!c(e[p],t[p]))return!1;i.pop();break;case n.types.object:case n.types.regexp:if(!u(e,t))return!1;break;default:if(e!==t)return!1}return!0}var i=new r(1e3);return c(e,t)};var u=function(e,t){return n.forEach(t,function(r,c){n.check.exists(e[c])?n.check.isSmashable(e[c],t[c])&&u(e[c],t[c]):e[c]=t[c]}),e};n.extend=function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){n.check.isSmashable(e,t)&&u(e,t)}),e},n.forEach=function(e,t,r){var u=n.getType(e);switch(u){case n.types.date:case n.types["function"]:case n.types.object:case n.types.regexp:for(var c in e)e.hasOwnProperty(c)&&t.call(r,e[c],c,e);break;case n.types.arguments:case n.types.array:for(var i=0;i<e.length;i++)t.call(r,e[i],i,e)}return e};var c=function(e,t){return n.forEach(t,function(r,u){n.check.isSmashable(e[u],t[u])?c(e[u],t[u]):e[u]=n.deepCopy(t[u])}),e};return n.smash=function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){n.check.isSmashable(e,t)&&c(e,t)}),e},n.lambda=function(e){return null==e?n.functions.identity:n.getType(e)===n.types["function"]?e:n.getType(e)===n.types.string&&n.equals(e,"")?n.functions.identity:function(t){return n.equals(e,t)}},n.setup=function(e){e=e||{},n.setup.initArrays&&n.setup.initArrays(e.useArrayExtensions),n.setup.initFunctions&&n.setup.initFunctions(e.useFunctionExtensions),n.setup.initNumbers&&n.setup.initNumbers(e.useNumberExtensions),n.setup.initObjects&&n.setup.initObjects(e.useObjectExtensions),n.setup.initLogger&&n.setup.initLogger(e.defaultLogger)},n.functions={identity:function(e){return e},"true":function(){return!0},"false":function(){return!1},empty:function(){},matcher:/^(?:[(\s*]*)?(\w+(?:,\s*\w+)*)?(?:[)\s*]*)?=>(?:\s*)?(.*)$/},n.types={arguments:n.getType(arguments),array:n.getType([]),"boolean":n.getType(!0),date:n.getType(new Date),"function":n.getType(function(){}),"null":n.getType(null),number:n.getType(0),object:n.getType({}),string:n.getType(""),regexp:n.getType(new RegExp),undefined:n.getType(e)},function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:this;return"undefined"!=typeof define&&"undefined"!=typeof define.amd?(e.z=n,define(function(){return n})):"undefined"!=typeof module?"undefined"!=typeof module.exports&&(module.exports=n):e.z=n,n}()}();
//# sourceMappingURL=base.min.js.map
!function(e){"use strict";function t(){}var n=new t,r=function(){function e(e){this.xStack=[],this.yStack=[],this.count=0,this.maxStackDepth=e}return e.prototype.push=function(e,t){this.xStack.push(e),this.yStack.push(t),this.count++},e.prototype.pop=function(){this.xStack.pop(),this.yStack.pop(),this.count--},e}();return n.getType=function(e){return Object.prototype.toString.call(e).match(/^\[object (.+)\]$/)[1]},n.coalesce=function(){for(var e=Array.prototype.slice.call(arguments),t=0;t<e.length;t++)if(n.check.exists(e[t]))return e[t];return null},n.deepCopy=function(e){function t(e,t){return i=a.xStack.indexOf(e),-1===i?(a.push(e,t),n.forEach(e,function(e,n){t[n]=u(e)}),a.pop(),t):a.yStack[i]}function s(e){var r=function(){return e.apply(e,arguments)};return n.forEach(e,function(e,t){r[t]=u(e)}),t(e,r)}function u(e){if(a.count>a.maxStackDepth)throw new Error("Stack depth exceeded: "+a.stackMaxDepth+"!");switch(n.getType(e)){case n.types.object:return t(e,Object.create(Object.getPrototypeOf(e)));case n.types.array:return t(e,[]);case n.types.regexp:return t(e,new RegExp(e));case n.types.date:return t(e,new Date(e.toString()));case n.types.function:return s(e);default:return e}}var i=-1,a=new r(1e3);return u(e)},n.defineProperty=function(e,t,n){null==e[t]?Object.defineProperty(e,t,n):console.error("Error: the method "+t+" has already been defined on the following object: "+e)},n.equals=function(e,t){function s(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.quicksort(),r.quicksort(),!u(n,r))return!1;i.push(e,t);for(var s in e)if(!u(e[s],t[s]))return!1;return i.pop(),!0}function u(e,t){if(i.count>i.maxStackDepth)throw new Error("Stack depth exceeded: "+i.maxStackDepth+"!");if(e===t)return!0;var r=n.getType(e),a=n.getType(t);if(r!==a)return!1;var c=i.xStack.lastIndexOf(e),o=i.yStack.lastIndexOf(t);if(-1!==c&&-1!==o)return!0;switch(r){case n.types.date:if(e.getTime()!==t.getTime())return!1;if(!s(e,t))return!1;break;case n.types.function:if(!s(e,t))return!1;break;case n.types.array:if(e.length!==t.length)return!1;i.push(e,t);for(var p=0;p<e.length;p++)if(!u(e[p],t[p]))return!1;i.pop();break;case n.types.object:case n.types.regexp:if(!s(e,t))return!1;break;default:if(e!==t)return!1}return!0}var i=new r(1e3);return u(e,t)},n.extend=function(){var e=Array.prototype.slice.call(arguments);if(e.length<=0)return null;if(1===e.length)return e[0];for(var t=e[0],r=function(r,u,i){n.check.exists(t[u])?n.check.isSmashable(t[u],i[u])&&(t[u]=n.smash(t[u],i[u])):t[u]=e[s][u]},s=1;s<e.length;s++)n.assert.isSmashable(t,e[s]),n.forEach(e[s],r);return t},n.forEach=function(e,t,r){var s=n.getType(e);switch(s){case n.types.date:case n.types.function:case n.types.object:case n.types.regexp:for(var u in e)e.hasOwnProperty(u)&&t.call(r,e[u],u,e);break;case n.types.arguments:case n.types.array:for(var i=0;i<e.length;i++)t.call(r,e[i],i,e)}return e},n.smash=function(){var e=Array.prototype.slice.call(arguments);if(e.length<=0)return null;if(1===e.length)return e[0];var t=e[0],r=e[e.length-1];n.assert.isSmashable(t,r);var s=function(r,s,i){n.check.exists(t[s])?n.check.isSmashable(t[s],i[s])&&n.smash(t[s],i[s]):t[s]=n.deepCopy(e[u][s])};n.forEach(r,function(e,s){n.check.isSmashable(t[s],r[s])?n.smash(t[s],r[s]):t[s]=n.deepCopy(r[s])});for(var u=e.length-2;u>=1;u--)n.assert.isSmashable(e[u],t),n.forEach(e[u],s);return t},n.lambda=function(e){return null==e?n.functions.identity:n.getType(e)===n.types.function?e:n.getType(e)===n.types.string&&n.equals(e,"")?n.functions.identity:function(t){return n.equals(e,t)}},n.setup=function(e){e=e||{},n.setup.initArrays&&n.setup.initArrays(e.useArrayExtensions),n.setup.initFunctions&&n.setup.initFunctions(e.useFunctionExtensions),n.setup.initNumbers&&n.setup.initNumbers(e.useNumberExtensions),n.setup.initObjects&&n.setup.initObjects(e.useObjectExtensions),n.setup.initLogger&&n.setup.initLogger(e.defaultLogger)},n.functions={identity:function(e){return e},"true":function(){return!0},"false":function(){return!1},empty:function(){},matcher:/^(?:[(\s*]*)?(\w+(?:,\s*\w+)*)?(?:[)\s*]*)?=>(?:\s*)?(.*)$/},n.types={arguments:n.getType(arguments),array:n.getType([]),"boolean":n.getType(!0),date:n.getType(new Date),"function":n.getType(function(){}),"null":n.getType(null),number:n.getType(0),object:n.getType({}),string:n.getType(""),regexp:n.getType(new RegExp),undefined:n.getType(e)},function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:this;return"undefined"!=typeof define&&"undefined"!=typeof define.amd?(e.z=n,define(function(){return n})):"undefined"!=typeof module?"undefined"!=typeof module.exports&&(module.exports=n):e.z=n,n}()}();
//# sourceMappingURL=base.min.js.map
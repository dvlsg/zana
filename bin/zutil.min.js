/*

    Copyright (C) 2014 Dave Lesage
    License: MIT
    See license.txt for full license text.
*/
(function(k){var c=new function(a){},a=function(){function a(b){this.xStack=[];this.yStack=[];this.count=0;this.maxStackDepth=b}a.prototype.push=function(a,b){this.xStack.push(a);this.yStack.push(b);this.count++};a.prototype.pop=function(){this.xStack.pop();this.yStack.pop();this.count--};return a}();c.getType=function(a){return Object.prototype.toString.call(a).match(/^\[object (.+)\]$/)[1]};c.coalesce=function(){for(var a=Array.prototype.slice.call(arguments),d=0;d<a.length;d++)if(c.check.exists(a[d]))return a[d];
return null};c.deepCopy=function(b){function d(a,b){l=g.xStack.indexOf(a);return-1===l?(g.push(a,b),c.forEach(a,function(a,f){b[f]=e(a)}),g.pop(),b):g.yStack[l]}function h(a){var b=a.toString(),e=b.substring(b.indexOf("(")+1,b.indexOf(")")).trim().split(",");e.map(function(a,b,e){e[b]=a.trim()});b=b.substring(b.indexOf("{")+1,b.indexOf("}")).trim();e=new Function(e,b);return d(a,e)}function e(a){if(g.count>g.maxStackDepth)throw Error("Stack depth exceeded: "+g.stackMaxDepth+"!");switch(c.getType(a)){case c.types.object:return d(a,
Object.create(a));case c.types.array:return d(a,[]);case c.types.regexp:return d(a,new RegExp(a));case c.types.date:return d(a,new Date(a.toString()));case c.types.function:return h(a);default:return a}}var l=-1,g=new a(1E3);return e(b)};c.defineProperty=function(a,d,c){null==a[d]?Object.defineProperty(a,d,c):console.error("Error: the method "+d+" has already been defined on the following object: "+a)};c.equals=function(b,d){function h(a,b){if(a===b)return!0;var d=Object.keys(a),c=Object.keys(b);
d.quicksort();c.quicksort();if(!e(d,c))return!1;l.push(a,b);for(var h in a)if(!e(a[h],b[h]))return!1;l.pop();return!0}function e(a,b){if(l.count>l.maxStackDepth)throw Error("Stack depth exceeded: "+l.maxStackDepth+"!");if(a===b)return!0;var d=c.getType(a),n=c.getType(b);if(d!==n)return!1;var n=l.xStack.lastIndexOf(a),k=l.yStack.lastIndexOf(b);if(-1!==n&&-1!==k)return!0;switch(d){case c.types.date:if(a.getTime()!==b.getTime()||!h(a,b))return!1;break;case c.types.function:if(!c.equals(c.functions.getBody(a),
c.functions.getBody(b))||!c.equals(c.functions.getArgumentNames(a),c.functions.getArgumentNames(b))||!h(a,b))return!1;break;case c.types.array:if(a.length!==b.length)return!1;l.push(a,b);for(d=0;d<a.length;d++)if(!e(a[d],b[d]))return!1;l.pop();break;case c.types.object:case c.types.regexp:if(!h(a,b))return!1;break;default:if(a!==b)return!1}return!0}var l=new a(1E3);return e(b,d)};c.extend=function(){var a=Array.prototype.slice.call(arguments);if(0>=a.length)return null;if(1===a.length)return a[0];
for(var d=a[0],h=1;h<a.length;h++)c.assert.isSmashable(d,a[h]),c.forEach(a[h],function(e,l){c.check.exists(d[l])?c.check.isSmashable(d[l],a[h][l])&&(d[l]=c.smash(d[l],a[h][l])):d[l]=a[h][l]});return d};c.forEach=function(a,d,h){switch(c.getType(a)){case c.types.date:case c.types.function:case c.types.object:case c.types.regexp:for(var e in a)a.hasOwnProperty(e)&&d.call(h,a[e],e,a);break;case c.types.arguments:case c.types.array:for(e=0;e<a.length;e++)d.call(h,a[e],e,a)}return a};c.smash=function(){var a=
Array.prototype.slice.call(arguments);if(0>=a.length)return null;if(1===a.length)return a[0];var d=a[0],h=a[a.length-1];c.assert.isSmashable(d,h);c.forEach(h,function(a,e){c.check.isSmashable(d[e],h[e])?c.smash(d[e],h[e]):d[e]=c.deepCopy(h[e])});for(var e=a.length-2;1<=e;e--)c.assert.isSmashable(a[e],d),c.forEach(a[e],function(l,g){c.check.exists(d[g])?c.check.isSmashable(d[g],a[e][g])&&c.smash(d[g],a[e][g]):d[g]=c.deepCopy(a[e][g])});return d};c.lambda=function(a){if(null==a)return c.functions.identity;
if(c.getType(a)===c.types.function)return a;if(c.getType(a)===c.types.string){if(c.equals(a,""))return c.functions.identity;if(-1<a.indexOf("=>")){var d=a.match(c.functions.matcher);return(new Function(d[1]||[],"return "+d[2]+";")).bind(arguments.callee.caller)}}return function(d){return c.equals(a,d)}};c.setup=function(a){a=a||{};c.setup.initArrays&&c.setup.initArrays(a.useArrayExtensions);c.setup.initFunctions&&c.setup.initFunctions(a.useFunctionExtensions);c.setup.initNumbers&&c.setup.initNumbers(a.useNumberExtensions);
c.setup.initObjects&&c.setup.initObjects(a.useObjectExtensions);c.setup.initLogger&&c.setup.initLogger(a.defaultLogger)};c.functions={identity:function(a){return a},"true":function(a){return!0},"false":function(a){return!1},empty:function(a){},matcher:/^(?:[(\s*]*)?(\w+(?:,\s*\w+)*)?(?:[)\s*]*)?=>(?:\s*)?(.*)$/};c.types={arguments:c.getType(arguments),array:c.getType([]),"boolean":c.getType(!0),date:c.getType(new Date),"function":c.getType(function(){}),"null":c.getType(null),number:c.getType(0),
object:c.getType({}),string:c.getType(""),regexp:c.getType(RegExp()),undefined:c.getType(k)};return function(){var a;a="undefined"!==typeof window?window:"undefined"!==typeof global?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(a.z=c,define(function(){return c})):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):a.z=c;return c}()})();
(function(k){function c(a){var b=a.arrays={};b.aggregate=function(){var e=0,b=a.getType(this)===a.types.array?this:arguments[e++],g=arguments[e++],e=arguments[e++];a.assert.isNonEmptyArray(b);for(var g=a.lambda(g),e=null==e?b[0]:g(e,b[0]),f=1;f<b.length;f++)e=g(e,b[f]);return e};b.any=function(){var e=0,b=a.getType(this)===a.types.array?this:arguments[e++],e=arguments[e++];if(null==e)return 0<b.length;for(var e=a.lambda(e),g=0;g<b.length;g++)if(e(b[g]))return!0;return!1};b.average=function(){var e=
0,l=a.getType(this)===a.types.array?this:arguments[e++],e=arguments[e++];return b.sum(l,e)/l.length};b.contains=function(){var e=0,b=a.getType(this)===a.types.array?this:arguments[e++],g=arguments[e++],e=arguments[e++],f;f=a.check.isFunction(g)?function(a){return g(a)}:function(e,b){return a.equals(e,b)};if(null==e)for(var d=0;d<b.length;d++){if(f(b[d],g))return!0}else for(e=a.lambda(e),d=0;d<b.length;d++)if(f(e(b[d]),g))return!0;return!1};b.count=function(){var e=0,b=a.getType(this)===a.types.array?
this:arguments[e++],g=arguments[e++],e=arguments[e++],f=0,d;d=a.check.isFunction(g)?function(a){return g(a)}:function(e,b){return a.equals(e,b)};if(null==e)for(var c=0;c<b.length;c++)d(b[c],g)&&f++;else for(e=a.lambda(e),c=0;c<b.length;c++)d(e(b[c]),g)&&f++;return f};var d=function(){return a.deepCopy(this)};b.distinct=function(){var e=0,b=a.getType(this)===a.types.array?this:arguments[e++],e=arguments[e++],g=[];if(null==e)for(var f=0;f<b.length;f++)g.contains(b[f])||g.push(b[f]);else for(e=a.lambda(e),
f=0;f<b.length;f++)g.contains(e(b[f]),e)||g.push(b[f]);return g};var c=function(e){return a.equals(this,e)};b.first=function(){var e=0,b=a.getType(this)===a.types.array?this:arguments[e++],e=arguments[e++],b=this;if(null==e){if(0<b.length)return b[0]}else for(var e=a.lambda(e),g=0;g<b.length;g++)if(e(b[g]))return b[g];return null};b.innerJoin=function(){var e=0,b=a.getType(this)===a.types.array?this:arguments[e++],g=arguments[e++];return{on:function(e){var d=[];e=a.lambda(e);for(var c=0;c<b.length;c++){a.check.isObject(b[c]);
for(var h=0;h<g.length;h++)a.check.isObject(g[h]),e(b[c],g[h])&&d.push(a.smash({},b[c],g[h]))}return d}}};b.isEmpty=function(){var e=0,e=a.getType(this)===a.types.array?this:arguments[e++];if(1>e.length)return!0;for(var b=0;b<e.length;b++)if(a.check.exists(e[b]))return!1;return!0};b.isFull=function(){var b=0,b=a.getType(this)===a.types.array?this:arguments[b++];if(1>b.length)return!1;for(var d=0;d<b.length;d++)if(!a.check.exists(b[d]))return!1;return!0};b.last=function(){var b=0,d=a.getType(this)===
a.types.array?this:arguments[b++],b=arguments[b++];if(null==b){if(0<d.length)return d[d.length-1]}else for(var b=a.lambda(b),g=d.length-1;0<=g;g--)if(b(d[g]))return d[g];return null};b.max=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],g=Number.MIN_VALUE;if(null!=b)for(var b=a.lambda(b),f=0;f<d.length;f++){var c=b(d[f]);a.check.isNumber(c)&&g<c&&(g=c)}else for(f=0;f<d.length;f++)c=d[f],a.check.isNumber(c)&&g<c&&(g=c);return g};b.min=function(){var b=0,d=
a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],g=Number.MAX_VALUE;if(null!=b)for(var b=a.lambda(b),f=0;f<d.length;f++){var c=b(d[f]);a.check.isNumber(c)&&c<g&&(g=c)}else for(f=0;f<d.length;f++)c=d[f],a.check.isNumber(c)&&c<g&&(g=c);return g};b.mutate=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],g=arguments[b++],g=a.lambda(g);a.check.isFunction(g)&&a.forEach(d,function(a,b){d[b]=g(d[b])});return d};b.orderBy=function(){var b=0,d=a.getType(this)===a.types.array?
this:arguments[b++],g=arguments[b++],b=arguments[b++],g=a.lambda(g),b=b||function(a,b){return g(a)>g(b)?1:g(a)<g(b)?-1:0},f=d.where(function(a){return null!=g(a)}),d=d.where(function(a){return null==g(a)});f.quicksort(b);return f.concat(d)};b.quicksort=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],g=arguments[b++],g=a.getType(g)===a.types.string?a.lambda(g):g||function(a,b){return a>b?1:a<b?-1:0},f=function(a,b){do{var e=a,c=b,h=d[Math.floor((a+b)/2)];do{for(;e<d.length&&
0>g(d[e],h);)e++;for(;0<=c&&0>g(h,d[c]);)c--;if(e>c)break;e<c&&d.swap(e,c);e++;c--}while(e<=c);c-a<=b-e?(a<c&&f(a,c),a=e):(e<b&&f(e,b),b=c)}while(a<b)};f(0,this.length-1)};b.quicksort3=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],c=a.getType(c)===a.types.string?a.lambda(c):c||function(a,b){return a>b?1:a<b?-1:0},f=function(a,b){for(var e=a,h=b,k=d[a],m=a+1;m<=h;){var t=c(d[m],k);0>t?d.swap(e++,m++):0<t?d.swap(m,h--):m++}a<e-1&&f(a,e-1);h+1<b&&f(h+1,b)};
f(0,this.length-1)};b.removeAll=function(){for(var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=0,b=a.lambda(b),f=d.length-1;-1<f;f--)b(d[f])&&(d.splice(f,1),c++);return c};b.select=function(){for(var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=[],b=a.lambda(b),f=0;f<d.length;f++)c.push(b(d[f]));return c};b.skip=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=[];0>b&&(b=0);for(var f=0;f<d.length-
b&&b<=d.length;f++)c[f]=d[f+b];return c};b.sum=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=0;if(null!=b)for(var b=a.lambda(b),f=0;f<d.length;f++){var h=b(d[f]);a.check.isNumber(h)&&(c+=h)}else for(f=0;f<d.length;f++)a.check.isNumber(d[f])&&(c+=d[f]);return c};b.swap=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],b=arguments[b++],f=d[c];d[c]=d[b];d[b]=f};b.take=function(){var b=0,d=a.getType(this)===a.types.array?
this:arguments[b++],b=arguments[b++],c=[];0>b&&(b=0);for(var f=0;f<b&&f<d.length;f++)c[f]=d[f];return c};b.takeWhile=function(){for(var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=[],b=a.lambda(b),f=0;f<count&&b(d[f]);f++)c.push(d[f]);return c};b.where=function(){for(var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],b=a.lambda(b),d=this,c=[],f=0;f<d.length;f++)b(d[f])&&c.push(d[f]);return c};b.zip=function(){for(var b=0,d=a.getType(this)===
a.types.array?this:arguments[b++],c=arguments[b++],b=arguments[b++],b=a.lambda(b),f=[],h=0;h<this.length;h++)f.push(b(d[h],c[h]));return f};a.setup.initArrays=function(e){e&&(a.defineProperty(Array.prototype,"aggregate",{enumerable:!1,writable:!1,value:b.aggregate}),a.defineProperty(Array.prototype,"any",{enumerable:!1,writable:!1,value:b.any}),a.defineProperty(Array.prototype,"average",{enumerable:!1,writable:!1,value:b.average}),a.defineProperty(Array.prototype,"contains",{enumerable:!1,writable:!1,
value:b.contains}),a.defineProperty(Array.prototype,"count",{enumerable:!1,writable:!1,value:b.count}),a.defineProperty(Array.prototype,"deepCopy",{enumerable:!1,writable:!1,value:d}),a.defineProperty(Array.prototype,"distinct",{enumerable:!1,writable:!1,value:b.distinct}),a.defineProperty(Array.prototype,"equals",{enumerable:!1,writable:!1,value:c}),a.defineProperty(Array.prototype,"first",{enumerable:!1,writable:!1,value:b.first}),a.defineProperty(Array.prototype,"innerJoin",{enumerable:!1,writable:!1,
value:b.innerJoin}),a.defineProperty(Array.prototype,"isEmpty",{enumerable:!1,writable:!1,value:b.isEmpty}),a.defineProperty(Array.prototype,"isFull",{enumerable:!1,writable:!1,value:b.isFull}),a.defineProperty(Array.prototype,"last",{enumerable:!1,writable:!1,value:b.last}),a.defineProperty(Array.prototype,"max",{enumerable:!1,writable:!1,value:b.max}),a.defineProperty(Array.prototype,"min",{enumerable:!1,writable:!1,value:b.min}),a.defineProperty(Array.prototype,"mutate",{enumerable:!1,writable:!1,
value:b.mutate}),a.defineProperty(Array.prototype,"orderBy",{enumerable:!1,writable:!1,value:b.orderBy}),a.defineProperty(Array.prototype,"quicksort",{enumerable:!1,writable:!1,value:b.quicksort}),a.defineProperty(Array.prototype,"quicksort3",{enumerable:!1,writable:!1,value:b.quicksort3}),a.defineProperty(Array.prototype,"removeAll",{enumerable:!1,writable:!1,value:b.removeAll}),a.defineProperty(Array.prototype,"select",{enumerable:!1,writable:!1,value:b.select}),a.defineProperty(Array.prototype,
"skip",{enumerable:!1,writable:!1,value:b.skip}),a.defineProperty(Array.prototype,"sum",{enumerable:!1,writable:!1,value:b.sum}),a.defineProperty(Array.prototype,"swap",{enumerable:!1,writable:!1,value:b.swap}),a.defineProperty(Array.prototype,"take",{enumerable:!1,writable:!1,value:b.take}),a.defineProperty(Array.prototype,"takeWhile",{enumerable:!1,writable:!1,value:b.takeWhile}),a.defineProperty(Array.prototype,"where",{enumerable:!1,writable:!1,value:b.where}),a.defineProperty(Array.prototype,
"zip",{enumerable:!1,writable:!1,value:b.zip}))}}k="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),k.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof k.z&&c(k.z)})();
(function(k){function c(a){a.classes=a.classes||{};var d=function(d,c){var f=arguments.callee.caller;if(a.getType(d)===a.types.function){if(!d()){if(c)throw Error(c);f=d.toString();f=f.substring(f.indexOf("{")+1,f.lastIndexOf("}")).trim();throw Error("Assertion failed: "+f);}}else if(a.getType(d)===a.types.string){if(d=a.lambda(d).bind(f),!d()){if(c)throw Error(c);f=d.toString();f=f.substring(f.indexOf("{")+1,f.lastIndexOf("}")).trim();throw Error("Assertion failed: "+f);}}else if(!d){if(c)throw Error(c);
throw Error("Assertion failed: "+String(d));}},c=function(){d(function(){return a.check.argsNotNull.apply(this,arguments)})},e=function(c){d(function(){return a.check.exists(c)})},l=function(c){d(function(){return a.check.isArray(c)})},g=function(c){d(function(){return a.check.isBoolean(c)})},f=function(c){d(function(){return a.check.isDate(c)})},p=function(c){d(function(){return a.check.isFunction(c)})},n=function(c){d(function(){return a.check.isNonEmptyArray(c)})},q=function(c){d(function(){return a.check.isNumber(c)})},
r=function(c){d(function(){return a.check.isObject(c)})},s=function(c){d(function(){return a.check.isReference(c)})},m=function(){var c=arguments;d(function(){return a.check.isSmashable.apply(k,c)})},t=function(c){d(function(){return a.check.isString(c)})},u=function(c,f){d(function(){return a.check.isType(c,f)})},v=function(c){d(function(){return a.check.isValue(c)})},w=function(){return function(){return function(d){a.defineProperty(d,"argsNotNull",{get:function(){return c},writeable:!1});a.defineProperty(d,
"exists",{get:function(){return e},writeable:!1});a.defineProperty(d,"isArray",{get:function(){return l},writeable:!1});a.defineProperty(d,"isBoolean",{get:function(){return g},writeable:!1});a.defineProperty(d,"isDate",{get:function(){return f},writeable:!1});a.defineProperty(d,"isFunction",{get:function(){return p},writeable:!1});a.defineProperty(d,"isNonEmptyArray",{get:function(){return n},writeable:!1});a.defineProperty(d,"isNumber",{get:function(){return q},writeable:!1});a.defineProperty(d,
"isObject",{get:function(){return r},writeable:!1});a.defineProperty(d,"isReference",{get:function(){return s},writeable:!1});a.defineProperty(d,"isSmashable",{get:function(){return m},writeable:!1});a.defineProperty(d,"isString",{get:function(){return t},writeable:!1});a.defineProperty(d,"isType",{get:function(){return u},writeable:!1});a.defineProperty(d,"isValue",{get:function(){return v},writeable:!1});return d}(d)}}();a.classes.Asserter=w;a.assert=new a.classes.Asserter}var a="undefined"!==typeof window?
window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),a.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof a.z&&c(a.z)})();
(function(k){function c(a){a.classes=a.classes||{};var b=function(){return function(b){var c,e=function(a){return c[a].data},l=function(a){c={}};c={};return function(b){a.defineProperty(b,"peek",{get:function(){return e},writeable:!1});a.defineProperty(b,"reset",{get:function(){return l},writeable:!1});return b}(function(b,d){a.assert.exists(b);if(a.check.exists(d))return c[b]={data:d,args:null,getter:null,timestamp:(new Date).getTime()},c[b].data;var e;e=a.check.exists(c[b])?c[b].data:null;return e})}}();
a.classes.Cache=b}k="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),k.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof k.z&&c(k.z)})();
(function(k){function c(a){var b=function(){};b.argsNotNull=function(){for(var a=0;a<arguments.length;a++)if(null==arguments[a])return!1;return!0};b.exists=function(a){return null!=a};b.isArray=function(b){return a.getType(b)===a.types.array};b.isBoolean=function(b){return a.getType(b)===a.types.boolean};b.isDate=function(b){return a.getType(b)===a.types.date};b.isFunction=function(b){return a.getType(b)===a.types.function};b.isGeneratorFunction=function(b){return a.getType(b)===a.types.function&&
b.isGenerator()};b.isIterable=function(b){return a.check.exists(b)?a.getType(b[a.symbols.iterator]||b.prototype[a.symbols.iterator])===a.types.function:!1};b.isNonEmptyArray=function(b){return a.check.exists(b)&&a.getType(b)===a.types.array&&0<b.length};b.isNumber=function(a){return!isNaN(a)};b.isObject=function(b){return a.getType(b)===a.types.object};b.isReference=function(b){switch(a.getType(b)){case a.types.array:case a.types.date:case a.types.function:case a.types.generator:case a.types.generatorFunction:case a.types.object:case a.types.regexp:return!0;
default:return!1}};b.isSmashable=function(){var b=Array.prototype.slice.call(arguments);if(1>b.length)return!1;var c=a.getType(b[0]);if(c!==a.types.array&&c!==a.types.object&&c!==a.types.function)return!1;c===a.types.function&&(c=a.types.object);for(var e=1;e<b.length;e++){var l=a.getType(b[e]);l===a.types.function&&(l=a.types.object);if(l!==c)return!1}return!0};b.isString=function(b){return a.getType(b)===a.types.string};b.isType=function(b,c){return a.getType(b)===c};b.isValue=function(b){switch(a.getType(b)){case a.types.boolean:case a.types.null:case a.types.number:case a.types.string:case a.types.undefined:return!0;
default:return!1}};a.check=b}k="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),k.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof k.z&&c(k.z)})();
(function(k){function c(a){a.classes=a.classes||{};var c=function(c,d){a.assert.isString(d);switch(d){case a.types.boolean:return h(c);case a.types.date:return e(c);case a.types.number:return l(c)}},h=function(c){if(a.check.exists(c)&&a.check.isFunction(c.toBoolean))return c.toBoolean();switch(a.getType(c)){case a.types.boolean:return c;case a.types.string:switch(c.toLowerCase().trim()){case "false":case "0":case "":case null:case k:return!1;default:return!0}default:return!!c}},e=function(c){if(a.check.exists(c)&&
a.check.isFunction(c.toDate))return c.toDate();switch(a.getType(c)){case a.types.date:return c;case a.types.string:return new Date(Date.parse(c));default:return new Date(Date.parse(c.toString()))}},l=function(c){if(a.check.exists(c)&&a.check.isFunction(c.toNumber))return c.toNumber();switch(a.getType(c)){case a.types.number:return c;default:return+c}},g=function(){return function(){return function(c){a.defineProperty(c,"toBoolean",{get:function(){return h},writeable:!1});a.defineProperty(c,"toDate",
{get:function(){return e},writeable:!1});a.defineProperty(c,"toNumber",{get:function(){return l},writeable:!1});return c}(c)}}();a.classes.Converter=g;a.convert=new a.classes.Converter}var a="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),a.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof a.z&&c(a.z)})();
(function(k){function c(a){a.classes=a.classes||{};var b=function(){return function(){var b=[],c=function(a){var c=b[a];if(null!=c)for(var e=0;e<c.length;e++){var h=c[e];null!=h.func&&h.func.apply(null,Array.prototype.slice.call(arguments,1))}},e=function(c){a.check.exists(c);b[c]=null},l=function(c,e){a.check.exists(c);a.check.isFunction(e);var h=b[c]||(b[c]=[]),l={func:e};h.push(l);return function(){b[c].removeAll(function(a){return a===l})}};return function(b){a.defineProperty(b,"call",{get:function(){return c},
writeable:!1});a.defineProperty(b,"clear",{get:function(){return e},writeable:!1});a.defineProperty(b,"on",{get:function(){return l},writeable:!1});return b}({})}}();a.classes.Events=b;a.events=new a.classes.Events}k="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),k.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==
typeof k.z&&c(k.z)})();
(function(k){function c(a){var b=a.functions=a.functions||{};b.curry=function(){function b(a){return a.length>=e?d.apply(null,a):function(){return b(a.concat(Array.prototype.slice.call(arguments)))}}var c=0,d=a.getType(this)===a.types.function?this:arguments[c++];a.assert.isFunction(d);var c=Array.prototype.slice.call(arguments),e=d.length;return b(c)};var c=function(){return a.deepCopy(this)},h=function(b,c){return a.defineProperty(this,b,c)},e=function(b){return a.equals(this,b)},l=function(){var b=
Array.prototype.slice.call(arguments);b.unshift(this);return a.functions.extend.apply(null,b)};b.extend=function(){return a.extend.apply(null,arguments)};b.getArgumentNames=function(){var b=0,b=a.getType(this)===a.types.function?this:arguments[b++];a.assert.isFunction(b);b=b.toString();b=b.substring(b.indexOf("(")+1,b.indexOf(")")).trim().split(",");b.map(function(a,b,c){c[b]=a.trim().replace(/(\n)?\/\*\*\//g,"")});return b};b.getBody=function(){var b=0,b=a.getType(this)===a.types.function?this:arguments[b++];
a.assert.isFunction(b);b=b.toString();return b.toString().substring(b.indexOf("{")+1,b.indexOf("}")).trim()};var g=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this);return a.functions.smash.apply(null,b)};b.smash=function(){return a.smash.apply(null,arguments)};a.setup.initFunctions=function(f){f&&(a.defineProperty(Function.prototype,"curry",{enumerable:!1,writable:!1,value:b.curry}),a.defineProperty(Function.prototype,"deepCopy",{enumerable:!1,writable:!1,value:c}),a.defineProperty(Function.prototype,
"defineProperty",{enumerable:!1,writable:!1,value:h}),a.defineProperty(Function.prototype,"equals",{enumerable:!1,writable:!1,value:e}),a.defineProperty(Function.prototype,"extend",{enumerable:!1,writable:!1,value:l}),a.defineProperty(Function.prototype,"getArgumentNames",{enumerable:!1,writable:!1,value:b.getArgumentNames}),a.defineProperty(Function.prototype,"getBody",{enumerable:!1,writable:!1,value:b.getBody}),a.defineProperty(Function.prototype,"smash",{enumerable:!1,writable:!1,value:g}))}}
k="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),k.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof k.z&&c(k.z)})();
(function(k){function c(a){var b=/\+/g,c=function(c){a.defineProperty(c,"parameters",{get:function(){var a={};if("undefined"!==typeof window){var c=window.location.href,d=c.indexOf("?");if(-1<d)for(c=c.substring(d+1).split("&"),d=0;d<c.length;d++){var f=c[d].split("=");2==f.length&&(a[f[0]]=decodeURIComponent(f[1].replace(b," ")))}}return a},writeable:!1});a.defineProperty(c,"locale",{get:function(){return this.parameters.locale||navigator.language||navigator.userLanguage},writeable:!1});return c}({});
a.location=c}k="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),k.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof k.z&&c(k.z)})();
(function(k){function c(a){a.classes=a.classes||{};var c=["log"],h=function(){return function(e,h){var g,f,p,n,q,r,s=function(c){if(a.getType(c)===a.types.string)a:switch(c.toLowerCase().trim()){case "false":case "0":case "":case null:case k:c=!1;break a;default:c=!0}g=!!c},m;(m=function(e){a.assert.exists(e);for(var g=0;g<c.length;g++)a.assert.isFunction(e[c[g]]);f=e.log.bind(e);p=a.check.exists(e.debug)?e.debug.bind(e):e.log.bind(e);n=a.check.exists(e.error)?e.error.bind(e):e.log.bind(e);q=a.check.exists(e.info)?
e.info.bind(e):e.log.bind(e);r=a.check.exists(e.warn)?e.warn.bind(e):e.log.bind(e);s(null!=h?h:a.location?a.location.parameters.debug:!1)})(e);return function(c){a.defineProperty(c,"debug",{get:function(){return g?p:a.functions.empty},writeable:!1});a.defineProperty(c,"error",{get:function(){return n},writeable:!1});a.defineProperty(c,"info",{get:function(){return q},writeable:!1});a.defineProperty(c,"log",{get:function(){return f},writeable:!1});a.defineProperty(c,"warn",{get:function(){return r},
writeable:!1});a.defineProperty(c,"setDebugLogging",{get:function(){return s},writeable:!1});a.defineProperty(c,"setLogger",{get:function(){return m},writeable:!1});return c}(f)}}();a.setup.initLogger=function(c){a.check.exists(c)&&(a.log=new a.classes.LogInterface(c))};a.classes.LogInterface=h}var a="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),a.z=z):"undefined"!==typeof module?
(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof a.z&&c(a.z)})();
(function(k){function c(a){var b=a.numbers={};b.factors=function(){var b=0,b=a.getType(this)===a.types.number?this:arguments[b++];a.assert.isNumber(b);for(var c=[],e=[],l=1;l<=Math.floor(Math.sqrt(b));l++)0==b%l&&(c.push(l),b/l!==l&&e.push(b/l));return c.concat(e.reverse())};b.round=function(){var b=0,c=a.getType(this)===a.types.number?this:arguments[b++],e=arguments[b++]||1,b=arguments[b++];a.assert.isNumber(c);if(b){b=b.toString().toLowerCase();if("down"===b)return a.numbers.roundDown(c,e);if("up"===
b)return a.numbers.roundUp(c,e)}return Math.round(c/e)*e};b.roundDown=function(){var b=0,c=a.getType(this)===a.types.number?this:arguments[b++],b=arguments[b++]||1;a.assert.isNumber(c);return Math.floor(c/b)*b};b.roundUp=function(){var b=0,c=a.getType(this)===a.types.number?this:arguments[b++],b=arguments[b++]||1;a.assert.isNumber(c);return Math.ceil(c/b)*b};a.setup.initNumbers=function(b){b&&(a.defineProperty(Number.prototype,"factors",{enumerable:!1,writable:!1,value:a.numbers.factors}),a.defineProperty(Number.prototype,
"round",{enumerable:!1,writable:!1,value:a.numbers.round}),a.defineProperty(Number.prototype,"roundDown",{enumerable:!1,writable:!1,value:a.numbers.roundDown}),a.defineProperty(Number.prototype,"roundUp",{enumerable:!1,writable:!1,value:a.numbers.roundUp}))}}k="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),k.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&
(_module.exports=c)):"undefined"!==typeof k.z&&c(k.z)})();
(function(k){function c(a){var b=a.objects={},c=function(){return a.deepCopy(this)},h=function(b,c){return a.defineProperty(this,b,c)},e=function(b){return a.equals(this,b)},l=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this);return a.objects.extend.apply(null,b)};b.extend=function(){return a.extend.apply(null,arguments)};var g=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this);return a.objects.smash.apply(null,b)};b.smash=function(){return a.smash.apply(null,
arguments)};a.setup.initObjects=function(b){b&&(a.defineProperty(Object.prototype,"deepCopy",{enumerable:!1,writable:!1,value:c}),a.defineProperty(Object.prototype,"defineProperty",{enumerable:!1,writable:!1,value:h}),a.defineProperty(Object.prototype,"equals",{enumerable:!1,writable:!1,value:e}),a.defineProperty(Object.prototype,"extend",{enumerable:!1,writable:!1,value:l}),a.defineProperty(Object.prototype,"smash",{enumerable:!1,writable:!1,value:g}))}}k="undefined"!==typeof window?window:"undefined"!==
typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),k.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof k.z&&c(k.z)})();
(function(k){function c(a){function b(b){var h=new c,g=b||"";this.stop=function(){h.stop();a.log.debug(g+" took: "+h.duration()+" ms")};h.start()}function c(){var a=null,b=null,d=!1;this.start=function(){d||(b=null,d=!0,a=(new Date).getTime())};this.stop=function(){d&&(b=(new Date).getTime(),d=!1)};this.duration=function(){return d?(new Date).getTime()-a:b-a};this.reset=function(){d=!1;b=a=null}}a.classes=a.classes||{};var h=function(){return function(){var c=[],d=function(a){c.push(new b(a))},g=
function(){0<c.length&&c.pop().stop()};return function(b){a.defineProperty(b,"push",{get:function(){return d},writeable:!1});a.defineProperty(b,"pop",{get:function(){return g},writeable:!1});return b}({})}}();a.classes.StopwatchStack=h;a.classes.StopwatchWrapper=b;a.classes.Stopwatch=c;a.sw=new a.classes.StopwatchStack}k="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),k.z=z):"undefined"!==
typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof k.z&&c(k.z)})();

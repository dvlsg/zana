/*

    Copyright (C) 2014 Dave Lesage
    License: MIT
    See license.txt for full license text.
*/
(function(h){var c=new function(b){},b=function(){function b(a){this.xStack=[];this.yStack=[];this.count=0;this.maxStackDepth=a}b.prototype.push=function(b,f){this.xStack.push(b);this.yStack.push(f);this.count++};b.prototype.pop=function(){this.xStack.pop();this.yStack.pop();this.count--};return b}();c.getType=function(b){return Object.prototype.toString.call(b).match(/^\[object (.+)\]$/)[1]};c.coalesce=function(){for(var b=Array.prototype.slice.call(arguments),a=0;a<b.length;a++)if(c.check.exists(b[a]))return b[a];
return null};c.deepCopy=function(f){function a(b,a){d=l.xStack.indexOf(b);return-1===d?(l.push(b,a),c.forEach(b,function(b,d){a[d]=k(b)}),l.pop(),a):l.yStack[d]}function g(b){var d=function(){return b.apply(b,arguments)};c.forEach(b,function(b,e,l){d[e]=k(b)});return a(b,d)}function k(b){if(l.count>l.maxStackDepth)throw Error("Stack depth exceeded: "+l.stackMaxDepth+"!");switch(c.getType(b)){case c.types.object:return a(b,Object.create(Object.getPrototypeOf(b)));case c.types.array:return a(b,[]);
case c.types.regexp:return a(b,new RegExp(b));case c.types.date:return a(b,new Date(b.toString()));case c.types.function:return g(b);default:return b}}var d=-1,l=new b(1E3);return k(f)};c.defineProperty=function(b,a,c){null==b[a]?Object.defineProperty(b,a,c):console.error("Error: the method "+a+" has already been defined on the following object: "+b)};c.equals=function(f,a){function g(b,e){if(b===e)return!0;var a=Object.keys(b),f=Object.keys(e);a.quicksort();f.quicksort();if(!k(a,f))return!1;d.push(b,
e);for(var c in b)if(!k(b[c],e[c]))return!1;d.pop();return!0}function k(b,e){if(d.count>d.maxStackDepth)throw Error("Stack depth exceeded: "+d.maxStackDepth+"!");if(b===e)return!0;var a=c.getType(b),f=c.getType(e);if(a!==f)return!1;var f=d.xStack.lastIndexOf(b),p=d.yStack.lastIndexOf(e);if(-1!==f&&-1!==p)return!0;switch(a){case c.types.date:if(b.getTime()!==e.getTime()||!g(b,e))return!1;break;case c.types.function:if(!g(b,e))return!1;break;case c.types.array:if(b.length!==e.length)return!1;d.push(b,
e);for(a=0;a<b.length;a++)if(!k(b[a],e[a]))return!1;d.pop();break;case c.types.object:case c.types.regexp:if(!g(b,e))return!1;break;default:if(b!==e)return!1}return!0}var d=new b(1E3);return k(f,a)};c.extend=function(){var b=Array.prototype.slice.call(arguments);if(0>=b.length)return null;if(1===b.length)return b[0];for(var a=b[0],g=1;g<b.length;g++)c.assert.isSmashable(a,b[g]),c.forEach(b[g],function(k,d){c.check.exists(a[d])?c.check.isSmashable(a[d],b[g][d])&&(a[d]=c.smash(a[d],b[g][d])):a[d]=b[g][d]});
return a};c.forEach=function(b,a,g){switch(c.getType(b)){case c.types.date:case c.types.function:case c.types.object:case c.types.regexp:for(var k in b)b.hasOwnProperty(k)&&a.call(g,b[k],k,b);break;case c.types.arguments:case c.types.array:for(k=0;k<b.length;k++)a.call(g,b[k],k,b)}return b};c.smash=function(){var b=Array.prototype.slice.call(arguments);if(0>=b.length)return null;if(1===b.length)return b[0];var a=b[0],g=b[b.length-1];c.assert.isSmashable(a,g);c.forEach(g,function(b,l){c.check.isSmashable(a[l],
g[l])?c.smash(a[l],g[l]):a[l]=c.deepCopy(g[l])});for(var k=b.length-2;1<=k;k--)c.assert.isSmashable(b[k],a),c.forEach(b[k],function(d,l){c.check.exists(a[l])?c.check.isSmashable(a[l],b[k][l])&&c.smash(a[l],b[k][l]):a[l]=c.deepCopy(b[k][l])});return a};c.lambda=function(b){if(null==b)return c.functions.identity;if(c.getType(b)===c.types.function)return b;if(c.getType(b)===c.types.string){if(c.equals(b,""))return c.functions.identity;if(-1<b.indexOf("=>")){var a=b.match(c.functions.matcher);return(new Function(a[1]||
[],"return "+a[2]+";")).bind(arguments.callee.caller)}}return function(a){return c.equals(b,a)}};c.setup=function(b){b=b||{};c.setup.initArrays&&c.setup.initArrays(b.useArrayExtensions);c.setup.initFunctions&&c.setup.initFunctions(b.useFunctionExtensions);c.setup.initNumbers&&c.setup.initNumbers(b.useNumberExtensions);c.setup.initObjects&&c.setup.initObjects(b.useObjectExtensions);c.setup.initLogger&&c.setup.initLogger(b.defaultLogger)};c.functions={identity:function(b){return b},"true":function(b){return!0},
"false":function(b){return!1},empty:function(b){},matcher:/^(?:[(\s*]*)?(\w+(?:,\s*\w+)*)?(?:[)\s*]*)?=>(?:\s*)?(.*)$/};c.types={arguments:c.getType(arguments),array:c.getType([]),"boolean":c.getType(!0),date:c.getType(new Date),"function":c.getType(function(){}),"null":c.getType(null),number:c.getType(0),object:c.getType({}),string:c.getType(""),regexp:c.getType(RegExp()),undefined:c.getType(h)};return function(){var b;b="undefined"!==typeof window?window:"undefined"!==typeof global?global:this;
"undefined"!==typeof define&&"undefined"!==typeof define.amd?(b.z=c,define(function(){return c})):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):b.z=c;return c}()})();
(function(h){function c(b){function f(b,a,e,c,n){var g=c.sum(e);if(g===a)n.push(c);else if(!(g>a)){for(g=0;g<b.length;g++){for(var k=[],h=b[g],m=g+1;m<b.length;m++)k.push(b[m]);m=c.deepCopy();m.push(h);f(k,a,e,m,n)}return n}}var a=b.arrays={};a.aggregate=function(){var d=0,a=b.getType(this)===b.types.array?this:arguments[d++],e=arguments[d++],d=arguments[d++];b.assert.isNonEmptyArray(a);for(var e=b.lambda(e),d=null==d?a[0]:e(d,a[0]),f=1;f<a.length;f++)d=e(d,a[f]);return d};a.any=function(){var d=
0,a=b.getType(this)===b.types.array?this:arguments[d++],d=arguments[d++];if(null==d)return 0<a.length;for(var d=b.lambda(d),e=0;e<a.length;e++)if(d(a[e]))return!0;return!1};a.average=function(){var d=0,l=b.getType(this)===b.types.array?this:arguments[d++],d=arguments[d++];return a.sum(l,d)/l.length};a.contains=function(){var d=0,a=b.getType(this)===b.types.array?this:arguments[d++],e=arguments[d++],d=arguments[d++],f;f=b.check.isFunction(e)?function(b){return e(b)}:function(d,a){return b.equals(d,
a)};if(null==d)for(var c=0;c<a.length;c++){if(f(a[c],e))return!0}else for(d=b.lambda(d),c=0;c<a.length;c++)if(f(d(a[c]),e))return!0;return!1};a.count=function(){var d=0,a=b.getType(this)===b.types.array?this:arguments[d++],e=arguments[d++],d=arguments[d++],f=0,c;c=b.check.isFunction(e)?function(b){return e(b)}:function(d,a){return b.equals(d,a)};if(null==d)for(var g=0;g<a.length;g++)c(a[g],e)&&f++;else for(d=b.lambda(d),g=0;g<a.length;g++)c(d(a[g]),e)&&f++;return f};var c=function(){return b.deepCopy(this)};
a.distinct=function(){var d=0,a=b.getType(this)===b.types.array?this:arguments[d++],d=arguments[d++],e=[];if(null==d)for(var f=0;f<a.length;f++)e.contains(a[f])||e.push(a[f]);else for(d=b.lambda(d),f=0;f<a.length;f++)e.contains(d(a[f]),d)||e.push(a[f]);return e};var k=function(d){return b.equals(this,d)};a.first=function(){var d=0,a=b.getType(this)===b.types.array?this:arguments[d++],d=arguments[d++],a=this;if(null==d){if(0<a.length)return a[0]}else for(var d=b.lambda(d),e=0;e<a.length;e++)if(d(a[e]))return a[e];
return null};a.innerJoin=function(){var d=0,a=b.getType(this)===b.types.array?this:arguments[d++],e=arguments[d++];return{on:function(d){var f=[];d=b.lambda(d);for(var c=0;c<a.length;c++){b.check.isObject(a[c]);for(var g=0;g<e.length;g++)b.check.isObject(e[g]),d(a[c],e[g])&&f.push(b.smash({},a[c],e[g]))}return f}}};a.isEmpty=function(){var d=0,d=b.getType(this)===b.types.array?this:arguments[d++];if(1>d.length)return!0;for(var a=0;a<d.length;a++)if(b.check.exists(d[a]))return!1;return!0};a.isFull=
function(){var d=0,d=b.getType(this)===b.types.array?this:arguments[d++];if(1>d.length)return!1;for(var a=0;a<d.length;a++)if(!b.check.exists(d[a]))return!1;return!0};a.last=function(){var d=0,a=b.getType(this)===b.types.array?this:arguments[d++],d=arguments[d++];if(null==d){if(0<a.length)return a[a.length-1]}else for(var d=b.lambda(d),e=a.length-1;0<=e;e--)if(d(a[e]))return a[e];return null};a.max=function(){var a=0,f=b.getType(this)===b.types.array?this:arguments[a++],a=arguments[a++],e=Number.MIN_VALUE;
if(null!=a)for(var a=b.lambda(a),c=0;c<f.length;c++){var g=a(f[c]);b.check.isNumber(g)&&e<g&&(e=g)}else for(c=0;c<f.length;c++)g=f[c],b.check.isNumber(g)&&e<g&&(e=g);return e};a.min=function(){var a=0,f=b.getType(this)===b.types.array?this:arguments[a++],a=arguments[a++],e=Number.MAX_VALUE;if(null!=a)for(var a=b.lambda(a),c=0;c<f.length;c++){var g=a(f[c]);b.check.isNumber(g)&&g<e&&(e=g)}else for(c=0;c<f.length;c++)g=f[c],b.check.isNumber(g)&&g<e&&(e=g);return e};a.mutate=function(){var a=0,f=b.getType(this)===
b.types.array?this:arguments[a++],e=arguments[a++],e=b.lambda(e);b.check.isFunction(e)&&b.forEach(f,function(b,a){f[a]=e(f[a])});return f};a.orderBy=function(){var a=0,f=b.getType(this)===b.types.array?this:arguments[a++],e=arguments[a++],a=arguments[a++],e=b.lambda(e),a=a||function(b,a){return e(b)>e(a)?1:e(b)<e(a)?-1:0},c=f.where(function(b){return null!=e(b)}),f=f.where(function(b){return null==e(b)});c.quicksort(a);return c.concat(f)};a.quicksort=function(){var a=0,f=b.getType(this)===b.types.array?
this:arguments[a++],e=arguments[a++],e=b.getType(e)===b.types.string?b.lambda(e):e||function(b,a){return b>a?1:b<a?-1:0},c=function(b,a){do{var d=b,g=a,k=f[Math.floor((b+a)/2)];do{for(;d<f.length&&0>e(f[d],k);)d++;for(;0<=g&&0>e(k,f[g]);)g--;if(d>g)break;d<g&&f.swap(d,g);d++;g--}while(d<=g);g-b<=a-d?(b<g&&c(b,g),b=d):(d<a&&c(d,a),a=g)}while(b<a)};c(0,this.length-1)};a.quicksort3=function(){var a=0,f=b.getType(this)===b.types.array?this:arguments[a++],e=arguments[a++],e=b.getType(e)===b.types.string?
b.lambda(e):e||function(b,a){return b>a?1:b<a?-1:0},c=function(b,a){for(var d=b,g=a,k=f[b],h=b+1;h<=g;){var t=e(f[h],k);0>t?f.swap(d++,h++):0<t?f.swap(h,g--):h++}b<d-1&&c(b,d-1);g+1<a&&c(g+1,a)};c(0,this.length-1)};a.remove=function(){for(var a=0,f=b.getType(this)===b.types.array?this:arguments[a++],a=arguments[a++],a=b.lambda(a),e=0;e<f.length;e++)a(f[e])&&f.splice(e,1);return f};a.removeAll=function(){for(var a=0,f=b.getType(this)===b.types.array?this:arguments[a++],a=arguments[a++],e=0,a=b.lambda(a),
c=f.length-1;-1<c;c--)a(f[c])&&(f.splice(c,1),e++);return e};a.select=function(){for(var a=0,f=b.getType(this)===b.types.array?this:arguments[a++],a=arguments[a++],e=[],a=b.lambda(a),c=0;c<f.length;c++)e.push(a(f[c]));return e};a.shuffle=function(){for(var d=0,d=b.getType(this)===b.types.array?this:arguments[d++],f=d.length-1;0<=f;f--)a.swap(d,f,Math.floor(Math.random()*f));return d};a.skip=function(){var a=0,f=b.getType(this)===b.types.array?this:arguments[a++],a=arguments[a++],e=[];0>a&&(a=0);for(var c=
0;c<f.length-a&&a<=f.length;c++)e[c]=f[c+a];return e};a.subsetSum=function(){var a=0,c=b.getType(this)===b.types.array?this:arguments[a++],e=arguments[a++],a=arguments[a++];b.check.isFunction(a)||(a=b.functions.identity);return f(c,e,a,[],[])};a.sum=function(){var a=0,f=b.getType(this)===b.types.array?this:arguments[a++],a=arguments[a++],e=0;if(null!=a)for(var a=b.lambda(a),c=0;c<f.length;c++){var g=a(f[c]);b.check.isNumber(g)&&(e+=g)}else for(c=0;c<f.length;c++)b.check.isNumber(f[c])&&(e+=f[c]);
return e};a.swap=function(){var a=0,f=b.getType(this)===b.types.array?this:arguments[a++],e=arguments[a++],a=arguments[a++],c=f[e];f[e]=f[a];f[a]=c};a.take=function(){var a=0,f=b.getType(this)===b.types.array?this:arguments[a++],a=arguments[a++],e=[];0>a&&(a=0);for(var c=0;c<a&&c<f.length;c++)e[c]=f[c];return e};a.takeWhile=function(){for(var a=0,f=b.getType(this)===b.types.array?this:arguments[a++],a=arguments[a++],e=[],a=b.lambda(a),c=0;c<count&&a(f[c]);c++)e.push(f[c]);return e};a.where=function(){for(var a=
0,f=b.getType(this)===b.types.array?this:arguments[a++],a=arguments[a++],a=b.lambda(a),f=this,e=[],c=0;c<f.length;c++)a(f[c],c,f)&&e.push(f[c]);return e};a.zip=function(){for(var a=0,f=b.getType(this)===b.types.array?this:arguments[a++],e=arguments[a++],a=arguments[a++],a=b.lambda(a),c=[],g=0;g<this.length;g++)c.push(a(f[g],e[g]));return c};b.setup.initArrays=function(f){f&&(b.defineProperty(Array.prototype,"aggregate",{enumerable:!1,writable:!1,value:a.aggregate}),b.defineProperty(Array.prototype,
"any",{enumerable:!1,writable:!1,value:a.any}),b.defineProperty(Array.prototype,"average",{enumerable:!1,writable:!1,value:a.average}),b.defineProperty(Array.prototype,"contains",{enumerable:!1,writable:!1,value:a.contains}),b.defineProperty(Array.prototype,"count",{enumerable:!1,writable:!1,value:a.count}),b.defineProperty(Array.prototype,"deepCopy",{enumerable:!1,writable:!1,value:c}),b.defineProperty(Array.prototype,"distinct",{enumerable:!1,writable:!1,value:a.distinct}),b.defineProperty(Array.prototype,
"equals",{enumerable:!1,writable:!1,value:k}),b.defineProperty(Array.prototype,"first",{enumerable:!1,writable:!1,value:a.first}),b.defineProperty(Array.prototype,"innerJoin",{enumerable:!1,writable:!1,value:a.innerJoin}),b.defineProperty(Array.prototype,"isEmpty",{enumerable:!1,writable:!1,value:a.isEmpty}),b.defineProperty(Array.prototype,"isFull",{enumerable:!1,writable:!1,value:a.isFull}),b.defineProperty(Array.prototype,"last",{enumerable:!1,writable:!1,value:a.last}),b.defineProperty(Array.prototype,
"max",{enumerable:!1,writable:!1,value:a.max}),b.defineProperty(Array.prototype,"min",{enumerable:!1,writable:!1,value:a.min}),b.defineProperty(Array.prototype,"mutate",{enumerable:!1,writable:!1,value:a.mutate}),b.defineProperty(Array.prototype,"orderBy",{enumerable:!1,writable:!1,value:a.orderBy}),b.defineProperty(Array.prototype,"quicksort",{enumerable:!1,writable:!1,value:a.quicksort}),b.defineProperty(Array.prototype,"quicksort3",{enumerable:!1,writable:!1,value:a.quicksort3}),b.defineProperty(Array.prototype,
"remove",{enumerable:!1,writable:!1,value:a.remove}),b.defineProperty(Array.prototype,"removeAll",{enumerable:!1,writable:!1,value:a.removeAll}),b.defineProperty(Array.prototype,"select",{enumerable:!1,writable:!1,value:a.select}),b.defineProperty(Array.prototype,"shuffle",{enumerable:!1,writable:!1,value:a.shuffle}),b.defineProperty(Array.prototype,"skip",{enumerable:!1,writable:!1,value:a.skip}),b.defineProperty(Array.prototype,"subsetSum",{enumerable:!1,writable:!1,value:a.subsetSum}),b.defineProperty(Array.prototype,
"sum",{enumerable:!1,writable:!1,value:a.sum}),b.defineProperty(Array.prototype,"swap",{enumerable:!1,writable:!1,value:a.swap}),b.defineProperty(Array.prototype,"take",{enumerable:!1,writable:!1,value:a.take}),b.defineProperty(Array.prototype,"takeWhile",{enumerable:!1,writable:!1,value:a.takeWhile}),b.defineProperty(Array.prototype,"where",{enumerable:!1,writable:!1,value:a.where}),b.defineProperty(Array.prototype,"zip",{enumerable:!1,writable:!1,value:a.zip}))}}h="undefined"!==typeof window?window:
"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(b){b.classes=b.classes||{};var a=function(a,e){var c=arguments.callee.caller;if(b.getType(a)===b.types.function){if(!a()){if(e)throw Error(e);c=a.toString();c=c.substring(c.indexOf("{")+1,c.lastIndexOf("}")).trim();throw Error("Assertion failed: "+c);}}else if(b.getType(a)===b.types.string){if(a=b.lambda(a).bind(c),!a()){if(e)throw Error(e);c=a.toString();c=c.substring(c.indexOf("{")+1,c.lastIndexOf("}")).trim();throw Error("Assertion failed: "+c);}}else if(!a){if(e)throw Error(e);
throw Error("Assertion failed: "+String(a));}},c=function(){a(function(){return b.check.argsNotNull.apply(this,arguments)})},k=function(c){a(function(){return b.check.exists(c)})},d=function(c){a(function(){return b.check.isArray(c)})},l=function(c){a(function(){return b.check.isBoolean(c)})},e=function(c){a(function(){return b.check.isDate(c)})},q=function(c){a(function(){return b.check.isFunction(c)})},n=function(c){a(function(){return b.check.isNonEmptyArray(c)})},p=function(c){a(function(){return b.check.isNumber(c)})},
r=function(c){a(function(){return b.check.isObject(c)})},s=function(c){a(function(){return b.check.isReference(c)})},m=function(){var c=arguments;a(function(){return b.check.isSmashable.apply(h,c)})},u=function(c){a(function(){return b.check.isString(c)})},t=function(c,e){a(function(){return b.check.isType(c,e)})},v=function(c){a(function(){return b.check.isValue(c)})},w=function(){return function(){return function(a){b.defineProperty(a,"argsNotNull",{get:function(){return c},writeable:!1});b.defineProperty(a,
"exists",{get:function(){return k},writeable:!1});b.defineProperty(a,"isArray",{get:function(){return d},writeable:!1});b.defineProperty(a,"isBoolean",{get:function(){return l},writeable:!1});b.defineProperty(a,"isDate",{get:function(){return e},writeable:!1});b.defineProperty(a,"isFunction",{get:function(){return q},writeable:!1});b.defineProperty(a,"isNonEmptyArray",{get:function(){return n},writeable:!1});b.defineProperty(a,"isNumber",{get:function(){return p},writeable:!1});b.defineProperty(a,
"isObject",{get:function(){return r},writeable:!1});b.defineProperty(a,"isReference",{get:function(){return s},writeable:!1});b.defineProperty(a,"isSmashable",{get:function(){return m},writeable:!1});b.defineProperty(a,"isString",{get:function(){return u},writeable:!1});b.defineProperty(a,"isType",{get:function(){return t},writeable:!1});b.defineProperty(a,"isValue",{get:function(){return v},writeable:!1});return a}(a)}}();b.classes.Asserter=w;b.assert=new b.classes.Asserter}var b="undefined"!==typeof window?
window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),b.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof b.z&&c(b.z)})();
(function(h){function c(b){b.classes=b.classes||{};var c=function(){return function(a){var c,f=function(b){return c[b].data},d=function(b){c={}};c={};return function(a){b.defineProperty(a,"peek",{get:function(){return f},writeable:!1});b.defineProperty(a,"reset",{get:function(){return d},writeable:!1});return a}(function(a,e){b.assert.exists(a);if(b.check.exists(e))return c[a]={data:e,args:null,getter:null,timestamp:(new Date).getTime()},c[a].data;var f;f=b.check.exists(c[a])?c[a].data:null;return f})}}();
b.classes.Cache=c}h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(b){var c=function(){};c.argsNotNull=function(){for(var b=0;b<arguments.length;b++)if(null==arguments[b])return!1;return!0};c.exists=function(b){return null!=b};c.isArray=function(a){return b.getType(a)===b.types.array};c.isBoolean=function(a){return b.getType(a)===b.types.boolean};c.isDate=function(a){return b.getType(a)===b.types.date};c.isFunction=function(a){return b.getType(a)===b.types.function};c.isGeneratorFunction=function(a){return b.getType(a)===b.types.function&&
a.isGenerator()};c.isIterable=function(a){return b.check.exists(a)?b.getType(a[b.symbols.iterator]||a.prototype[b.symbols.iterator])===b.types.function:!1};c.isNonEmptyArray=function(a){return b.check.exists(a)&&b.getType(a)===b.types.array&&0<a.length};c.isNumber=function(b){return!isNaN(b)};c.isObject=function(a){return b.getType(a)===b.types.object};c.isReference=function(a){switch(b.getType(a)){case b.types.array:case b.types.date:case b.types.function:case b.types.generator:case b.types.generatorFunction:case b.types.object:case b.types.regexp:return!0;
default:return!1}};c.isSmashable=function(){var a=Array.prototype.slice.call(arguments);if(1>a.length)return!1;var c=b.getType(a[0]);if(c!==b.types.array&&c!==b.types.object&&c!==b.types.function)return!1;c===b.types.function&&(c=b.types.object);for(var f=1;f<a.length;f++){var d=b.getType(a[f]);d===b.types.function&&(d=b.types.object);if(d!==c)return!1}return!0};c.isString=function(a){return b.getType(a)===b.types.string};c.isType=function(a,c){return b.getType(a)===c};c.isValue=function(a){switch(b.getType(a)){case b.types.boolean:case b.types.null:case b.types.number:case b.types.string:case b.types.undefined:return!0;
default:return!1}};b.check=c}h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(b){b.classes=b.classes||{};var a=function(a,l){b.assert.isString(l);switch(l){case b.types.boolean:return c(a);case b.types.date:return k(a);case b.types.number:return d(a)}},c=function(a){if(b.check.exists(a)&&b.check.isFunction(a.toBoolean))return a.toBoolean();switch(b.getType(a)){case b.types.boolean:return a;case b.types.string:switch(a.toLowerCase().trim()){case "false":case "0":case "":case null:case h:return!1;default:return!0}default:return!!a}},k=function(a){if(b.check.exists(a)&&
b.check.isFunction(a.toDate))return a.toDate();switch(b.getType(a)){case b.types.date:return a;case b.types.string:return new Date(Date.parse(a));default:return new Date(Date.parse(a.toString()))}},d=function(a){if(b.check.exists(a)&&b.check.isFunction(a.toNumber))return a.toNumber();switch(b.getType(a)){case b.types.number:return a;default:return+a}},l=function(){return function(){return function(a){b.defineProperty(a,"toBoolean",{get:function(){return c},writeable:!1});b.defineProperty(a,"toDate",
{get:function(){return k},writeable:!1});b.defineProperty(a,"toNumber",{get:function(){return d},writeable:!1});return a}(a)}}();b.classes.Converter=l;b.convert=new b.classes.Converter}var b="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),b.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof b.z&&c(b.z)})();
(function(h){function c(b){b.classes=b.classes||{};var c=function(){return function(){var a=[],c=function(b){var c=a[b];if(null!=c)for(var d=0;d<c.length;d++){var f=c[d];null!=f.func&&f.func.apply(null,Array.prototype.slice.call(arguments,1))}},f=function(c){b.check.exists(c);a[c]=null},d=function(c,e){b.check.exists(c);b.check.isFunction(e);var d=a[c]||(a[c]=[]),f={func:e};d.push(f);return function(){a[c].removeAll(function(b){return b===f})}};return function(a){b.defineProperty(a,"emit",{get:function(){return c},
writeable:!1});b.defineProperty(a,"clear",{get:function(){return f},writeable:!1});b.defineProperty(a,"on",{get:function(){return d},writeable:!1});return a}({})}}();b.classes.Events=c;b.events=new b.classes.Events}h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==
typeof h.z&&c(h.z)})();
(function(h){function c(b){var c=b.functions=b.functions||{};c.curry=function(){function a(b){return b.length>=f?d.apply(null,b):function(){return a(b.concat(Array.prototype.slice.call(arguments)))}}var c=0,d=b.getType(this)===b.types.function?this:arguments[c++];b.assert.isFunction(d);var c=Array.prototype.slice.call(arguments),f=d.length;return a(c)};var a=function(){return b.deepCopy(this)},g=function(a,c){return b.defineProperty(this,a,c)},k=function(a){return b.equals(this,a)},d=function(){var a=
Array.prototype.slice.call(arguments);a.unshift(this);return b.functions.extend.apply(null,a)};c.extend=function(){return b.extend.apply(null,arguments)};c.getArgumentNames=function(){var a=0,a=b.getType(this)===b.types.function?this:arguments[a++];b.assert.isFunction(a);a=a.toString();a=a.substring(a.indexOf("(")+1,a.indexOf(")")).trim().split(",");a.map(function(b,a,c){c[a]=b.trim().replace(/(\n)?\/\*\*\//g,"")});return a};c.getBody=function(){var a=0,a=b.getType(this)===b.types.function?this:arguments[a++];
b.assert.isFunction(a);a=a.toString();return a.toString().substring(a.indexOf("{")+1,a.indexOf("}")).trim()};var h=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this);return b.functions.smash.apply(null,a)};c.smash=function(){return b.smash.apply(null,arguments)};b.setup.initFunctions=function(e){e&&(b.defineProperty(Function.prototype,"curry",{enumerable:!1,writable:!1,value:c.curry}),b.defineProperty(Function.prototype,"deepCopy",{enumerable:!1,writable:!1,value:a}),b.defineProperty(Function.prototype,
"defineProperty",{enumerable:!1,writable:!1,value:g}),b.defineProperty(Function.prototype,"equals",{enumerable:!1,writable:!1,value:k}),b.defineProperty(Function.prototype,"extend",{enumerable:!1,writable:!1,value:d}),b.defineProperty(Function.prototype,"getArgumentNames",{enumerable:!1,writable:!1,value:c.getArgumentNames}),b.defineProperty(Function.prototype,"getBody",{enumerable:!1,writable:!1,value:c.getBody}),b.defineProperty(Function.prototype,"smash",{enumerable:!1,writable:!1,value:h}))}}
h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(b){var c=/\+/g,a=function(a){b.defineProperty(a,"parameters",{get:function(){var b={};if("undefined"!==typeof window){var a=window.location.href,g=a.indexOf("?");if(-1<g)for(a=a.substring(g+1).split("&"),g=0;g<a.length;g++){var e=a[g].split("=");2==e.length&&(b[e[0]]=decodeURIComponent(e[1].replace(c," ")))}}return b},writeable:!1});b.defineProperty(a,"locale",{get:function(){return this.parameters.locale||navigator.language||navigator.userLanguage},writeable:!1});return a}({});
b.location=a}h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(b){b.classes=b.classes||{};var a=["log"],c=function(){return function(c,d){var g,e,q,n,p,r,s=function(a){if(b.getType(a)===b.types.string)a:switch(a.toLowerCase().trim()){case "false":case "0":case "":case null:case h:a=!1;break a;default:a=!0}g=!!a},m;(m=function(c){b.assert.exists(c);for(var g=0;g<a.length;g++)b.assert.isFunction(c[a[g]]);e=c.log.bind(c);q=b.check.exists(c.debug)?c.debug.bind(c):c.log.bind(c);n=b.check.exists(c.error)?c.error.bind(c):c.log.bind(c);p=b.check.exists(c.info)?
c.info.bind(c):c.log.bind(c);r=b.check.exists(c.warn)?c.warn.bind(c):c.log.bind(c);s(null!=d?d:b.location?b.location.parameters.debug:!1)})(c);return function(a){b.defineProperty(a,"debug",{get:function(){return g?q:b.functions.empty},writeable:!1});b.defineProperty(a,"error",{get:function(){return n},writeable:!1});b.defineProperty(a,"info",{get:function(){return p},writeable:!1});b.defineProperty(a,"log",{get:function(){return e},writeable:!1});b.defineProperty(a,"warn",{get:function(){return r},
writeable:!1});b.defineProperty(a,"setDebugLogging",{get:function(){return s},writeable:!1});b.defineProperty(a,"setLogger",{get:function(){return m},writeable:!1});return a}(e)}}();b.setup.initLogger=function(a){b.check.exists(a)&&(b.log=new b.classes.LogInterface(a))};b.classes.LogInterface=c}var b="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),b.z=z):"undefined"!==typeof module?
(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof b.z&&c(b.z)})();
(function(h){function c(b){var c=b.numbers={};c.factors=function(){var a=0,a=b.getType(this)===b.types.number?this:arguments[a++];b.assert.isNumber(a);for(var c=[],f=[],d=1;d<=Math.floor(Math.sqrt(a));d++)0==a%d&&(c.push(d),a/d!==d&&f.push(a/d));return c.concat(f.reverse())};c.round=function(){var a=0,c=b.getType(this)===b.types.number?this:arguments[a++],f=arguments[a++]||1,a=arguments[a++];b.assert.isNumber(c);if(a){a=a.toString().toLowerCase();if("down"===a)return b.numbers.roundDown(c,f);if("up"===
a)return b.numbers.roundUp(c,f)}return Math.round(c/f)*f};c.roundDown=function(){var a=0,c=b.getType(this)===b.types.number?this:arguments[a++],a=arguments[a++]||1;b.assert.isNumber(c);return Math.floor(c/a)*a};c.roundUp=function(){var a=0,c=b.getType(this)===b.types.number?this:arguments[a++],a=arguments[a++]||1;b.assert.isNumber(c);return Math.ceil(c/a)*a};b.setup.initNumbers=function(a){a&&(b.defineProperty(Number.prototype,"factors",{enumerable:!1,writable:!1,value:b.numbers.factors}),b.defineProperty(Number.prototype,
"round",{enumerable:!1,writable:!1,value:b.numbers.round}),b.defineProperty(Number.prototype,"roundDown",{enumerable:!1,writable:!1,value:b.numbers.roundDown}),b.defineProperty(Number.prototype,"roundUp",{enumerable:!1,writable:!1,value:b.numbers.roundUp}))}}h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&
(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(b){var c=b.objects={},a=function(){return b.deepCopy(this)},g=function(a,c){return b.defineProperty(this,a,c)},h=function(a){return b.equals(this,a)},d=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this);return b.objects.extend.apply(null,a)};c.extend=function(){return b.extend.apply(null,arguments)};var l=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this);return b.objects.smash.apply(null,a)};c.smash=function(){return b.smash.apply(null,
arguments)};b.setup.initObjects=function(c){c&&(b.defineProperty(Object.prototype,"deepCopy",{enumerable:!1,writable:!1,value:a}),b.defineProperty(Object.prototype,"defineProperty",{enumerable:!1,writable:!1,value:g}),b.defineProperty(Object.prototype,"equals",{enumerable:!1,writable:!1,value:h}),b.defineProperty(Object.prototype,"extend",{enumerable:!1,writable:!1,value:d}),b.defineProperty(Object.prototype,"smash",{enumerable:!1,writable:!1,value:l}))}}h="undefined"!==typeof window?window:"undefined"!==
typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(b){function c(f){var d=new a,g=f||"";this.stop=function(){d.stop();b.log.debug(g+" took: "+d.duration()+" ms")};d.start()}function a(){var b=null,a=null,c=!1;this.start=function(){c||(a=null,c=!0,b=(new Date).getTime())};this.stop=function(){c&&(a=(new Date).getTime(),c=!1)};this.duration=function(){return c?(new Date).getTime()-b:a-b};this.reset=function(){c=!1;a=b=null}}b.classes=b.classes||{};var g=function(){return function(){var a=[],d=function(b){a.push(new c(b))},g=
function(){0<a.length&&a.pop().stop()};return function(a){b.defineProperty(a,"push",{get:function(){return d},writeable:!1});b.defineProperty(a,"pop",{get:function(){return g},writeable:!1});return a}({})}}();b.classes.StopwatchStack=g;b.classes.StopwatchWrapper=c;b.classes.Stopwatch=a;b.sw=new b.classes.StopwatchStack}h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==
typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();

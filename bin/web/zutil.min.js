/*

    Copyright (C) 2014 Dave Lesage
    License: MIT
    See license.txt for full license text.
*/
(function(h){var c=new function(a){},a=function(){function a(b){this.xStack=[];this.yStack=[];this.count=0;this.maxStackDepth=b}a.prototype.push=function(a,f){this.xStack.push(a);this.yStack.push(f);this.count++};a.prototype.pop=function(){this.xStack.pop();this.yStack.pop();this.count--};return a}();c.getType=function(a){return Object.prototype.toString.call(a).match(/^\[object (.+)\]$/)[1]};c.coalesce=function(){for(var a=Array.prototype.slice.call(arguments),b=0;b<a.length;b++)if(c.check.exists(a[b]))return a[b];
return null};c.deepCopy=function(f){function b(a,b){e=l.xStack.indexOf(a);return-1===e?(l.push(a,b),c.forEach(a,function(a,e){b[e]=k(a)}),l.pop(),b):l.yStack[e]}function g(a){var e=function(){return a.apply(a,arguments)};c.forEach(a,function(a,d,l){e[d]=k(a)});return b(a,e)}function k(a){if(l.count>l.maxStackDepth)throw Error("Stack depth exceeded: "+l.stackMaxDepth+"!");switch(c.getType(a)){case c.types.object:return b(a,Object.create(Object.getPrototypeOf(a)));case c.types.array:return b(a,[]);
case c.types.regexp:return b(a,new RegExp(a));case c.types.date:return b(a,new Date(a.toString()));case c.types.function:return g(a);default:return a}}var e=-1,l=new a(1E3);return k(f)};c.defineProperty=function(a,b,c){null==a[b]?Object.defineProperty(a,b,c):console.error("Error: the method "+b+" has already been defined on the following object: "+a)};c.equals=function(f,b){function g(a,d){if(a===d)return!0;var b=Object.keys(a),f=Object.keys(d);b.quicksort();f.quicksort();if(!k(b,f))return!1;e.push(a,
d);for(var c in a)if(!k(a[c],d[c]))return!1;e.pop();return!0}function k(a,d){if(e.count>e.maxStackDepth)throw Error("Stack depth exceeded: "+e.maxStackDepth+"!");if(a===d)return!0;var b=c.getType(a),f=c.getType(d);if(b!==f)return!1;var f=e.xStack.lastIndexOf(a),p=e.yStack.lastIndexOf(d);if(-1!==f&&-1!==p)return!0;switch(b){case c.types.date:if(a.getTime()!==d.getTime()||!g(a,d))return!1;break;case c.types.function:if(!g(a,d))return!1;break;case c.types.array:if(a.length!==d.length)return!1;e.push(a,
d);for(b=0;b<a.length;b++)if(!k(a[b],d[b]))return!1;e.pop();break;case c.types.object:case c.types.regexp:if(!g(a,d))return!1;break;default:if(a!==d)return!1}return!0}var e=new a(1E3);return k(f,b)};c.extend=function(){var a=Array.prototype.slice.call(arguments);if(0>=a.length)return null;if(1===a.length)return a[0];for(var b=a[0],g=1;g<a.length;g++)c.assert.isSmashable(b,a[g]),c.forEach(a[g],function(k,e){c.check.exists(b[e])?c.check.isSmashable(b[e],a[g][e])&&(b[e]=c.smash(b[e],a[g][e])):b[e]=a[g][e]});
return b};c.forEach=function(a,b,g){switch(c.getType(a)){case c.types.date:case c.types.function:case c.types.object:case c.types.regexp:for(var k in a)a.hasOwnProperty(k)&&b.call(g,a[k],k,a);break;case c.types.arguments:case c.types.array:for(k=0;k<a.length;k++)b.call(g,a[k],k,a)}return a};c.smash=function(){var a=Array.prototype.slice.call(arguments);if(0>=a.length)return null;if(1===a.length)return a[0];var b=a[0],g=a[a.length-1];c.assert.isSmashable(b,g);c.forEach(g,function(a,l){c.check.isSmashable(b[l],
g[l])?c.smash(b[l],g[l]):b[l]=c.deepCopy(g[l])});for(var k=a.length-2;1<=k;k--)c.assert.isSmashable(a[k],b),c.forEach(a[k],function(e,l){c.check.exists(b[l])?c.check.isSmashable(b[l],a[k][l])&&c.smash(b[l],a[k][l]):b[l]=c.deepCopy(a[k][l])});return b};c.lambda=function(a){if(null==a)return c.functions.identity;if(c.getType(a)===c.types.function)return a;if(c.getType(a)===c.types.string){if(c.equals(a,""))return c.functions.identity;if(-1<a.indexOf("=>")){var b=a.match(c.functions.matcher);return(new Function(b[1]||
[],"return "+b[2]+";")).bind(arguments.callee.caller)}}return function(b){return c.equals(a,b)}};c.setup=function(a){a=a||{};c.setup.initArrays&&c.setup.initArrays(a.useArrayExtensions);c.setup.initFunctions&&c.setup.initFunctions(a.useFunctionExtensions);c.setup.initNumbers&&c.setup.initNumbers(a.useNumberExtensions);c.setup.initObjects&&c.setup.initObjects(a.useObjectExtensions);c.setup.initLogger&&c.setup.initLogger(a.defaultLogger)};c.functions={identity:function(a){return a},"true":function(a){return!0},
"false":function(a){return!1},empty:function(a){},matcher:/^(?:[(\s*]*)?(\w+(?:,\s*\w+)*)?(?:[)\s*]*)?=>(?:\s*)?(.*)$/};c.types={arguments:c.getType(arguments),array:c.getType([]),"boolean":c.getType(!0),date:c.getType(new Date),"function":c.getType(function(){}),"null":c.getType(null),number:c.getType(0),object:c.getType({}),string:c.getType(""),regexp:c.getType(RegExp()),undefined:c.getType(h)};return function(){var a;a="undefined"!==typeof window?window:"undefined"!==typeof global?global:this;
"undefined"!==typeof define&&"undefined"!==typeof define.amd?(a.z=c,define(function(){return c})):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):a.z=c;return c}()})();
(function(h){function c(a){function f(a,b,d,c,n){var g=c.sum(d);if(g===b)n.push(c);else if(!(g>b)){for(g=0;g<a.length;g++){for(var k=[],h=a[g],m=g+1;m<a.length;m++)k.push(a[m]);m=c.deepCopy();m.push(h);f(k,b,d,m,n)}return n}}var b=a.arrays={};b.aggregate=function(){var e=0,b=a.getType(this)===a.types.array?this:arguments[e++],d=arguments[e++],e=arguments[e++];a.assert.isNonEmptyArray(b);for(var d=a.lambda(d),e=null==e?b[0]:d(e,b[0]),f=1;f<b.length;f++)e=d(e,b[f]);return e};b.any=function(){var e=
0,b=a.getType(this)===a.types.array?this:arguments[e++],e=arguments[e++];if(null==e)return 0<b.length;for(var e=a.lambda(e),d=0;d<b.length;d++)if(e(b[d]))return!0;return!1};b.average=function(){var e=0,l=a.getType(this)===a.types.array?this:arguments[e++],e=arguments[e++];return b.sum(l,e)/l.length};b.contains=function(){var e=0,b=a.getType(this)===a.types.array?this:arguments[e++],d=arguments[e++],e=arguments[e++],f;f=a.check.isFunction(d)?function(a){return d(a)}:function(e,b){return a.equals(e,
b)};if(null==e)for(var c=0;c<b.length;c++){if(f(b[c],d))return!0}else for(e=a.lambda(e),c=0;c<b.length;c++)if(f(e(b[c]),d))return!0;return!1};b.count=function(){var e=0,b=a.getType(this)===a.types.array?this:arguments[e++],d=arguments[e++],e=arguments[e++],f=0,c;c=a.check.isFunction(d)?function(a){return d(a)}:function(e,b){return a.equals(e,b)};if(null==e)for(var g=0;g<b.length;g++)c(b[g],d)&&f++;else for(e=a.lambda(e),g=0;g<b.length;g++)c(e(b[g]),d)&&f++;return f};var c=function(){return a.deepCopy(this)};
b.distinct=function(){var e=0,b=a.getType(this)===a.types.array?this:arguments[e++],e=arguments[e++],d=[];if(null==e)for(var f=0;f<b.length;f++)d.contains(b[f])||d.push(b[f]);else for(e=a.lambda(e),f=0;f<b.length;f++)d.contains(e(b[f]),e)||d.push(b[f]);return d};var k=function(e){return a.equals(this,e)};b.first=function(){var e=0,b=a.getType(this)===a.types.array?this:arguments[e++],e=arguments[e++],b=this;if(null==e){if(0<b.length)return b[0]}else for(var e=a.lambda(e),d=0;d<b.length;d++)if(e(b[d]))return b[d];
return null};b.innerJoin=function(){var e=0,b=a.getType(this)===a.types.array?this:arguments[e++],d=arguments[e++];return{on:function(e){var f=[];e=a.lambda(e);for(var c=0;c<b.length;c++){a.check.isObject(b[c]);for(var g=0;g<d.length;g++)a.check.isObject(d[g]),e(b[c],d[g])&&f.push(a.smash({},b[c],d[g]))}return f}}};b.isEmpty=function(){var e=0,e=a.getType(this)===a.types.array?this:arguments[e++];if(1>e.length)return!0;for(var b=0;b<e.length;b++)if(a.check.exists(e[b]))return!1;return!0};b.isFull=
function(){var e=0,e=a.getType(this)===a.types.array?this:arguments[e++];if(1>e.length)return!1;for(var b=0;b<e.length;b++)if(!a.check.exists(e[b]))return!1;return!0};b.last=function(){var e=0,b=a.getType(this)===a.types.array?this:arguments[e++],e=arguments[e++];if(null==e){if(0<b.length)return b[b.length-1]}else for(var e=a.lambda(e),d=b.length-1;0<=d;d--)if(e(b[d]))return b[d];return null};b.max=function(){var b=0,f=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],d=Number.MIN_VALUE;
if(null!=b)for(var b=a.lambda(b),c=0;c<f.length;c++){var g=b(f[c]);a.check.isNumber(g)&&d<g&&(d=g)}else for(c=0;c<f.length;c++)g=f[c],a.check.isNumber(g)&&d<g&&(d=g);return d};b.min=function(){var b=0,f=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],d=Number.MAX_VALUE;if(null!=b)for(var b=a.lambda(b),c=0;c<f.length;c++){var g=b(f[c]);a.check.isNumber(g)&&g<d&&(d=g)}else for(c=0;c<f.length;c++)g=f[c],a.check.isNumber(g)&&g<d&&(d=g);return d};b.mutate=function(){var b=0,f=a.getType(this)===
a.types.array?this:arguments[b++],d=arguments[b++],d=a.lambda(d);a.check.isFunction(d)&&a.forEach(f,function(a,b){f[b]=d(f[b])});return f};b.orderBy=function(){var b=0,f=a.getType(this)===a.types.array?this:arguments[b++],d=arguments[b++],b=arguments[b++],d=a.lambda(d),b=b||function(a,b){return d(a)>d(b)?1:d(a)<d(b)?-1:0},c=f.where(function(a){return null!=d(a)}),f=f.where(function(a){return null==d(a)});c.quicksort(b);return c.concat(f)};b.quicksort=function(){var b=0,f=a.getType(this)===a.types.array?
this:arguments[b++],d=arguments[b++],d=a.getType(d)===a.types.string?a.lambda(d):d||function(a,b){return a>b?1:a<b?-1:0},c=function(a,b,e,f){a=d(a,b);return 0===a?e-f:a},g=function(a,b){do{var e=a,d=b,k=Math.floor((a+b)/2),h=f[k];do{for(;e<f.length&&0>c(f[e],h,e,k);)e++;for(;0<=d&&0>c(h,f[d],k,d);)d--;if(e>d)break;e<d&&f.swap(e,d);e++;d--}while(e<=d);d-a<=b-e?(a<d&&g(a,d),a=e):(e<b&&g(e,b),b=d)}while(a<b)};g(0,this.length-1)};b.quicksort3=function(){var b=0,f=a.getType(this)===a.types.array?this:
arguments[b++],d=arguments[b++],d=a.getType(d)===a.types.string?a.lambda(d):d||function(a,b){return a>b?1:a<b?-1:0},c=function(a,b){for(var e=a,g=b,k=f[a],h=a+1;h<=g;){var t=d(f[h],k);0>t?f.swap(e++,h++):0<t?f.swap(h,g--):h++}a<e-1&&c(a,e-1);g+1<b&&c(g+1,b)};c(0,this.length-1)};b.remove=function(){for(var b=0,f=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],b=a.lambda(b),d=0;d<f.length;d++)b(f[d])&&f.splice(d,1);return f};b.removeAll=function(){for(var b=0,f=a.getType(this)===
a.types.array?this:arguments[b++],b=arguments[b++],d=0,b=a.lambda(b),c=f.length-1;-1<c;c--)b(f[c])&&(f.splice(c,1),d++);return d};b.select=function(){for(var b=0,f=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],d=[],b=a.lambda(b),c=0;c<f.length;c++)d.push(b(f[c]));return d};b.shuffle=function(){for(var e=0,e=a.getType(this)===a.types.array?this:arguments[e++],f=e.length-1;0<=f;f--)b.swap(e,f,Math.floor(Math.random()*f));return e};b.skip=function(){var b=0,f=a.getType(this)===
a.types.array?this:arguments[b++],b=arguments[b++],d=[];0>b&&(b=0);for(var c=0;c<f.length-b&&b<=f.length;c++)d[c]=f[c+b];return d};b.subsetSum=function(){var b=0,c=a.getType(this)===a.types.array?this:arguments[b++],d=arguments[b++],b=arguments[b++];a.check.isFunction(b)||(b=a.functions.identity);return f(c,d,b,[],[])};b.sum=function(){var b=0,f=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],d=0;if(null!=b)for(var b=a.lambda(b),c=0;c<f.length;c++){var g=b(f[c]);a.check.isNumber(g)&&
(d+=g)}else for(c=0;c<f.length;c++)a.check.isNumber(f[c])&&(d+=f[c]);return d};b.swap=function(){var b=0,f=a.getType(this)===a.types.array?this:arguments[b++],d=arguments[b++],b=arguments[b++],c=f[d];f[d]=f[b];f[b]=c};b.take=function(){var b=0,f=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],d=[];0>b&&(b=0);for(var c=0;c<b&&c<f.length;c++)d[c]=f[c];return d};b.takeWhile=function(){for(var b=0,f=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],d=[],b=a.lambda(b),
c=0;c<count&&b(f[c]);c++)d.push(f[c]);return d};b.where=function(){for(var b=0,f=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],b=a.lambda(b),f=this,d=[],c=0;c<f.length;c++)b(f[c],c,f)&&d.push(f[c]);return d};b.zip=function(){for(var b=0,f=a.getType(this)===a.types.array?this:arguments[b++],d=arguments[b++],b=arguments[b++],b=a.lambda(b),c=[],g=0;g<this.length;g++)c.push(b(f[g],d[g]));return c};a.setup.initArrays=function(f){f&&(a.defineProperty(Array.prototype,"aggregate",{enumerable:!1,
writable:!1,value:b.aggregate}),a.defineProperty(Array.prototype,"any",{enumerable:!1,writable:!1,value:b.any}),a.defineProperty(Array.prototype,"average",{enumerable:!1,writable:!1,value:b.average}),a.defineProperty(Array.prototype,"contains",{enumerable:!1,writable:!1,value:b.contains}),a.defineProperty(Array.prototype,"count",{enumerable:!1,writable:!1,value:b.count}),a.defineProperty(Array.prototype,"deepCopy",{enumerable:!1,writable:!1,value:c}),a.defineProperty(Array.prototype,"distinct",{enumerable:!1,
writable:!1,value:b.distinct}),a.defineProperty(Array.prototype,"equals",{enumerable:!1,writable:!1,value:k}),a.defineProperty(Array.prototype,"first",{enumerable:!1,writable:!1,value:b.first}),a.defineProperty(Array.prototype,"innerJoin",{enumerable:!1,writable:!1,value:b.innerJoin}),a.defineProperty(Array.prototype,"isEmpty",{enumerable:!1,writable:!1,value:b.isEmpty}),a.defineProperty(Array.prototype,"isFull",{enumerable:!1,writable:!1,value:b.isFull}),a.defineProperty(Array.prototype,"last",{enumerable:!1,
writable:!1,value:b.last}),a.defineProperty(Array.prototype,"max",{enumerable:!1,writable:!1,value:b.max}),a.defineProperty(Array.prototype,"min",{enumerable:!1,writable:!1,value:b.min}),a.defineProperty(Array.prototype,"mutate",{enumerable:!1,writable:!1,value:b.mutate}),a.defineProperty(Array.prototype,"orderBy",{enumerable:!1,writable:!1,value:b.orderBy}),a.defineProperty(Array.prototype,"quicksort",{enumerable:!1,writable:!1,value:b.quicksort}),a.defineProperty(Array.prototype,"quicksort3",{enumerable:!1,
writable:!1,value:b.quicksort3}),a.defineProperty(Array.prototype,"remove",{enumerable:!1,writable:!1,value:b.remove}),a.defineProperty(Array.prototype,"removeAll",{enumerable:!1,writable:!1,value:b.removeAll}),a.defineProperty(Array.prototype,"select",{enumerable:!1,writable:!1,value:b.select}),a.defineProperty(Array.prototype,"shuffle",{enumerable:!1,writable:!1,value:b.shuffle}),a.defineProperty(Array.prototype,"skip",{enumerable:!1,writable:!1,value:b.skip}),a.defineProperty(Array.prototype,"subsetSum",
{enumerable:!1,writable:!1,value:b.subsetSum}),a.defineProperty(Array.prototype,"sum",{enumerable:!1,writable:!1,value:b.sum}),a.defineProperty(Array.prototype,"swap",{enumerable:!1,writable:!1,value:b.swap}),a.defineProperty(Array.prototype,"take",{enumerable:!1,writable:!1,value:b.take}),a.defineProperty(Array.prototype,"takeWhile",{enumerable:!1,writable:!1,value:b.takeWhile}),a.defineProperty(Array.prototype,"where",{enumerable:!1,writable:!1,value:b.where}),a.defineProperty(Array.prototype,"zip",
{enumerable:!1,writable:!1,value:b.zip}))}}h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(a){a.classes=a.classes||{};var b=function(b,d){var c=arguments.callee.caller;if(a.getType(b)===a.types.function){if(!b()){if(d)throw Error(d);c=b.toString();c=c.substring(c.indexOf("{")+1,c.lastIndexOf("}")).trim();throw Error("Assertion failed: "+c);}}else if(a.getType(b)===a.types.string){if(b=a.lambda(b).bind(c),!b()){if(d)throw Error(d);c=b.toString();c=c.substring(c.indexOf("{")+1,c.lastIndexOf("}")).trim();throw Error("Assertion failed: "+c);}}else if(!b){if(d)throw Error(d);
throw Error("Assertion failed: "+String(b));}},c=function(){b(function(){return a.check.argsNotNull.apply(this,arguments)})},k=function(d){b(function(){return a.check.exists(d)})},e=function(d){b(function(){return a.check.isArray(d)})},l=function(d){b(function(){return a.check.isBoolean(d)})},d=function(d){b(function(){return a.check.isDate(d)})},q=function(d){b(function(){return a.check.isFunction(d)})},n=function(d){b(function(){return a.check.isNonEmptyArray(d)})},p=function(d){b(function(){return a.check.isNumber(d)})},
r=function(d){b(function(){return a.check.isObject(d)})},s=function(d){b(function(){return a.check.isReference(d)})},m=function(){var d=arguments;b(function(){return a.check.isSmashable.apply(h,d)})},u=function(d){b(function(){return a.check.isString(d)})},t=function(d,c){b(function(){return a.check.isType(d,c)})},v=function(d){b(function(){return a.check.isValue(d)})},w=function(){return function(){return function(b){a.defineProperty(b,"argsNotNull",{get:function(){return c},writeable:!1});a.defineProperty(b,
"exists",{get:function(){return k},writeable:!1});a.defineProperty(b,"isArray",{get:function(){return e},writeable:!1});a.defineProperty(b,"isBoolean",{get:function(){return l},writeable:!1});a.defineProperty(b,"isDate",{get:function(){return d},writeable:!1});a.defineProperty(b,"isFunction",{get:function(){return q},writeable:!1});a.defineProperty(b,"isNonEmptyArray",{get:function(){return n},writeable:!1});a.defineProperty(b,"isNumber",{get:function(){return p},writeable:!1});a.defineProperty(b,
"isObject",{get:function(){return r},writeable:!1});a.defineProperty(b,"isReference",{get:function(){return s},writeable:!1});a.defineProperty(b,"isSmashable",{get:function(){return m},writeable:!1});a.defineProperty(b,"isString",{get:function(){return u},writeable:!1});a.defineProperty(b,"isType",{get:function(){return t},writeable:!1});a.defineProperty(b,"isValue",{get:function(){return v},writeable:!1});return b}(b)}}();a.classes.Asserter=w;a.assert=new a.classes.Asserter}var a="undefined"!==typeof window?
window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),a.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof a.z&&c(a.z)})();
(function(h){function c(a){a.classes=a.classes||{};var c=function(){return function(b){var c,f=function(a){return c[a].data},e=function(a){c={}};c={};return function(b){a.defineProperty(b,"peek",{get:function(){return f},writeable:!1});a.defineProperty(b,"reset",{get:function(){return e},writeable:!1});return b}(function(b,d){a.assert.exists(b);if(a.check.exists(d))return c[b]={data:d,args:null,getter:null,timestamp:(new Date).getTime()},c[b].data;var f;f=a.check.exists(c[b])?c[b].data:null;return f})}}();
a.classes.Cache=c}h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(a){var c=function(){};c.argsNotNull=function(){for(var a=0;a<arguments.length;a++)if(null==arguments[a])return!1;return!0};c.exists=function(a){return null!=a};c.isArray=function(b){return a.getType(b)===a.types.array};c.isBoolean=function(b){return a.getType(b)===a.types.boolean};c.isDate=function(b){return a.getType(b)===a.types.date};c.isFunction=function(b){return a.getType(b)===a.types.function};c.isGeneratorFunction=function(b){return a.getType(b)===a.types.function&&
b.isGenerator()};c.isIterable=function(b){return a.check.exists(b)?a.getType(b[a.symbols.iterator]||b.prototype[a.symbols.iterator])===a.types.function:!1};c.isNonEmptyArray=function(b){return a.check.exists(b)&&a.getType(b)===a.types.array&&0<b.length};c.isNumber=function(a){return!isNaN(a)};c.isObject=function(b){return a.getType(b)===a.types.object};c.isReference=function(b){switch(a.getType(b)){case a.types.array:case a.types.date:case a.types.function:case a.types.generator:case a.types.generatorFunction:case a.types.object:case a.types.regexp:return!0;
default:return!1}};c.isSmashable=function(){var b=Array.prototype.slice.call(arguments);if(1>b.length)return!1;var c=a.getType(b[0]);if(c!==a.types.array&&c!==a.types.object&&c!==a.types.function)return!1;c===a.types.function&&(c=a.types.object);for(var f=1;f<b.length;f++){var e=a.getType(b[f]);e===a.types.function&&(e=a.types.object);if(e!==c)return!1}return!0};c.isString=function(b){return a.getType(b)===a.types.string};c.isType=function(b,c){return a.getType(b)===c};c.isValue=function(b){switch(a.getType(b)){case a.types.boolean:case a.types.null:case a.types.number:case a.types.string:case a.types.undefined:return!0;
default:return!1}};a.check=c}h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(a){a.classes=a.classes||{};var b=function(b,l){a.assert.isString(l);switch(l){case a.types.boolean:return c(b);case a.types.date:return k(b);case a.types.number:return e(b)}},c=function(b){if(a.check.exists(b)&&a.check.isFunction(b.toBoolean))return b.toBoolean();switch(a.getType(b)){case a.types.boolean:return b;case a.types.string:switch(b.toLowerCase().trim()){case "false":case "0":case "":case null:case h:return!1;default:return!0}default:return!!b}},k=function(b){if(a.check.exists(b)&&
a.check.isFunction(b.toDate))return b.toDate();switch(a.getType(b)){case a.types.date:return b;case a.types.string:return new Date(Date.parse(b));default:return new Date(Date.parse(b.toString()))}},e=function(b){if(a.check.exists(b)&&a.check.isFunction(b.toNumber))return b.toNumber();switch(a.getType(b)){case a.types.number:return b;default:return+b}},l=function(){return function(){return function(b){a.defineProperty(b,"toBoolean",{get:function(){return c},writeable:!1});a.defineProperty(b,"toDate",
{get:function(){return k},writeable:!1});a.defineProperty(b,"toNumber",{get:function(){return e},writeable:!1});return b}(b)}}();a.classes.Converter=l;a.convert=new a.classes.Converter}var a="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),a.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof a.z&&c(a.z)})();
(function(h){function c(a){a.classes=a.classes||{};var c=function(){return function(){var b=[],c=function(a){var c=b[a];if(null!=c)for(var e=0;e<c.length;e++){var f=c[e];null!=f.func&&f.func.apply(null,Array.prototype.slice.call(arguments,1))}},f=function(c){a.check.exists(c);b[c]=null},e=function(c,d){a.check.exists(c);a.check.isFunction(d);var e=b[c]||(b[c]=[]),f={func:d};e.push(f);return function(){b[c].removeAll(function(a){return a===f})}};return function(b){a.defineProperty(b,"emit",{get:function(){return c},
writeable:!1});a.defineProperty(b,"clear",{get:function(){return f},writeable:!1});a.defineProperty(b,"on",{get:function(){return e},writeable:!1});return b}({})}}();a.classes.Events=c;a.events=new a.classes.Events}h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==
typeof h.z&&c(h.z)})();
(function(h){function c(a){var c=a.functions=a.functions||{};c.curry=function(){function b(a){return a.length>=f?e.apply(null,a):function(){return b(a.concat(Array.prototype.slice.call(arguments)))}}var c=0,e=a.getType(this)===a.types.function?this:arguments[c++];a.assert.isFunction(e);var c=Array.prototype.slice.call(arguments),f=e.length;return b(c)};var b=function(){return a.deepCopy(this)},g=function(b,c){return a.defineProperty(this,b,c)},k=function(b){return a.equals(this,b)},e=function(){var b=
Array.prototype.slice.call(arguments);b.unshift(this);return a.functions.extend.apply(null,b)};c.extend=function(){return a.extend.apply(null,arguments)};c.getArgumentNames=function(){var b=0,b=a.getType(this)===a.types.function?this:arguments[b++];a.assert.isFunction(b);b=b.toString();b=b.substring(b.indexOf("(")+1,b.indexOf(")")).trim().split(",");b.map(function(a,b,c){c[b]=a.trim().replace(/(\n)?\/\*\*\//g,"")});return b};c.getBody=function(){var b=0,b=a.getType(this)===a.types.function?this:arguments[b++];
a.assert.isFunction(b);b=b.toString();return b.toString().substring(b.indexOf("{")+1,b.indexOf("}")).trim()};var h=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this);return a.functions.smash.apply(null,b)};c.smash=function(){return a.smash.apply(null,arguments)};a.setup.initFunctions=function(d){d&&(a.defineProperty(Function.prototype,"curry",{enumerable:!1,writable:!1,value:c.curry}),a.defineProperty(Function.prototype,"deepCopy",{enumerable:!1,writable:!1,value:b}),a.defineProperty(Function.prototype,
"defineProperty",{enumerable:!1,writable:!1,value:g}),a.defineProperty(Function.prototype,"equals",{enumerable:!1,writable:!1,value:k}),a.defineProperty(Function.prototype,"extend",{enumerable:!1,writable:!1,value:e}),a.defineProperty(Function.prototype,"getArgumentNames",{enumerable:!1,writable:!1,value:c.getArgumentNames}),a.defineProperty(Function.prototype,"getBody",{enumerable:!1,writable:!1,value:c.getBody}),a.defineProperty(Function.prototype,"smash",{enumerable:!1,writable:!1,value:h}))}}
h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(a){var c=/\+/g,b=function(b){a.defineProperty(b,"parameters",{get:function(){var a={};if("undefined"!==typeof window){var b=window.location.href,g=b.indexOf("?");if(-1<g)for(b=b.substring(g+1).split("&"),g=0;g<b.length;g++){var d=b[g].split("=");2==d.length&&(a[d[0]]=decodeURIComponent(d[1].replace(c," ")))}}return a},writeable:!1});a.defineProperty(b,"locale",{get:function(){return this.parameters.locale||navigator.language||navigator.userLanguage},writeable:!1});return b}({});
a.location=b}h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(a){a.classes=a.classes||{};var b=["log"],c=function(){return function(c,e){var g,d,q,n,p,r,s=function(b){if(a.getType(b)===a.types.string)a:switch(b.toLowerCase().trim()){case "false":case "0":case "":case null:case h:b=!1;break a;default:b=!0}g=!!b},m;(m=function(c){a.assert.exists(c);for(var g=0;g<b.length;g++)a.assert.isFunction(c[b[g]]);d=c.log.bind(c);q=a.check.exists(c.debug)?c.debug.bind(c):c.log.bind(c);n=a.check.exists(c.error)?c.error.bind(c):c.log.bind(c);p=a.check.exists(c.info)?
c.info.bind(c):c.log.bind(c);r=a.check.exists(c.warn)?c.warn.bind(c):c.log.bind(c);s(null!=e?e:a.location?a.location.parameters.debug:!1)})(c);return function(b){a.defineProperty(b,"debug",{get:function(){return g?q:a.functions.empty},writeable:!1});a.defineProperty(b,"error",{get:function(){return n},writeable:!1});a.defineProperty(b,"info",{get:function(){return p},writeable:!1});a.defineProperty(b,"log",{get:function(){return d},writeable:!1});a.defineProperty(b,"warn",{get:function(){return r},
writeable:!1});a.defineProperty(b,"setDebugLogging",{get:function(){return s},writeable:!1});a.defineProperty(b,"setLogger",{get:function(){return m},writeable:!1});return b}(d)}}();a.setup.initLogger=function(b){a.check.exists(b)&&(a.log=new a.classes.LogInterface(b))};a.classes.LogInterface=c}var a="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),a.z=z):"undefined"!==typeof module?
(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof a.z&&c(a.z)})();
(function(h){function c(a){var c=a.numbers={};c.factors=function(){var b=0,b=a.getType(this)===a.types.number?this:arguments[b++];a.assert.isNumber(b);for(var c=[],f=[],e=1;e<=Math.floor(Math.sqrt(b));e++)0==b%e&&(c.push(e),b/e!==e&&f.push(b/e));return c.concat(f.reverse())};c.round=function(){var b=0,c=a.getType(this)===a.types.number?this:arguments[b++],f=arguments[b++]||1,b=arguments[b++];a.assert.isNumber(c);if(b){b=b.toString().toLowerCase();if("down"===b)return a.numbers.roundDown(c,f);if("up"===
b)return a.numbers.roundUp(c,f)}return Math.round(c/f)*f};c.roundDown=function(){var b=0,c=a.getType(this)===a.types.number?this:arguments[b++],b=arguments[b++]||1;a.assert.isNumber(c);return Math.floor(c/b)*b};c.roundUp=function(){var b=0,c=a.getType(this)===a.types.number?this:arguments[b++],b=arguments[b++]||1;a.assert.isNumber(c);return Math.ceil(c/b)*b};a.setup.initNumbers=function(b){b&&(a.defineProperty(Number.prototype,"factors",{enumerable:!1,writable:!1,value:a.numbers.factors}),a.defineProperty(Number.prototype,
"round",{enumerable:!1,writable:!1,value:a.numbers.round}),a.defineProperty(Number.prototype,"roundDown",{enumerable:!1,writable:!1,value:a.numbers.roundDown}),a.defineProperty(Number.prototype,"roundUp",{enumerable:!1,writable:!1,value:a.numbers.roundUp}))}}h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&
(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(a){var c=a.objects={},b=function(){return a.deepCopy(this)},g=function(b,c){return a.defineProperty(this,b,c)},h=function(b){return a.equals(this,b)},e=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this);return a.objects.extend.apply(null,b)};c.extend=function(){return a.extend.apply(null,arguments)};var l=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this);return a.objects.smash.apply(null,b)};c.smash=function(){return a.smash.apply(null,
arguments)};a.setup.initObjects=function(c){c&&(a.defineProperty(Object.prototype,"deepCopy",{enumerable:!1,writable:!1,value:b}),a.defineProperty(Object.prototype,"defineProperty",{enumerable:!1,writable:!1,value:g}),a.defineProperty(Object.prototype,"equals",{enumerable:!1,writable:!1,value:h}),a.defineProperty(Object.prototype,"extend",{enumerable:!1,writable:!1,value:e}),a.defineProperty(Object.prototype,"smash",{enumerable:!1,writable:!1,value:l}))}}h="undefined"!==typeof window?window:"undefined"!==
typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();
(function(h){function c(a){function c(f){var e=new b,g=f||"";this.stop=function(){e.stop();a.log.debug(g+" took: "+e.duration()+" ms")};e.start()}function b(){var a=null,b=null,c=!1;this.start=function(){c||(b=null,c=!0,a=(new Date).getTime())};this.stop=function(){c&&(b=(new Date).getTime(),c=!1)};this.duration=function(){return c?(new Date).getTime()-a:b-a};this.reset=function(){c=!1;b=a=null}}a.classes=a.classes||{};var g=function(){return function(){var b=[],e=function(a){b.push(new c(a))},g=
function(){0<b.length&&b.pop().stop()};return function(b){a.defineProperty(b,"push",{get:function(){return e},writeable:!1});a.defineProperty(b,"pop",{get:function(){return g},writeable:!1});return b}({})}}();a.classes.StopwatchStack=g;a.classes.StopwatchWrapper=c;a.classes.Stopwatch=b;a.sw=new a.classes.StopwatchStack}h="undefined"!==typeof window?window:"undefined"!==typeof window?global:this;"undefined"!==typeof define&&"undefined"!==typeof define.amd?(define(function(){return c}),h.z=z):"undefined"!==
typeof module?(_module=module,"undefined"!==typeof module.exports&&(_module.exports=c)):"undefined"!==typeof h.z&&c(h.z)})();

/*

    Copyright (C) 2014 Dave Lesage
    License: MIT
    See license.txt for full license text.

    Copyright (C) 2014 Dave Lesage
    License: MIT
    See license.txt for full license text.
*/
(function(h,n){var a=h.util||{};a.setup=a.setup||{};var g=function(){function a(b){this.xStack=[];this.yStack=[];this.count=0;this.maxStackDepth=b}a.prototype.push=function(a,d){this.xStack.push(a);this.yStack.push(d);this.count++};a.prototype.pop=function(){this.xStack.pop();this.yStack.pop();this.count--};return a}();a.getType=function(a){return Object.prototype.toString.call(a).match(/^\[object (.+)\]$/)[1]};a.deepCopy=function(e){function b(b,e){c=f.xStack.indexOf(b);return-1===c?(f.push(b,e),
a.forEach(b,function(a,b){e[b]=d(a)}),f.pop(),e):f.yStack[c]}function d(c){if(f.count>f.maxStackDepth)throw Error("Stack depth exceeded: "+f.stackMaxDepth+"!");switch(a.getType(c)){case a.types.object:return b(c,Object.create(c));case a.types.array:return b(c,[]);case a.types.regexp:return b(c,new RegExp(c));case a.types.date:return b(c,new Date(c.toString()));default:return c}}var c=-1,f=new g(1E3);return d(e)};a.defineProperty=function(a,b,d){null==a[b]?Object.defineProperty(a,b,d):console.error("Error: the method "+
b+" has already been defined on the following object: "+a)};a.equals=function(e,b){function d(a,b){if(a===b)return!0;var d=Object.keys(a),e=Object.keys(b);d.quicksort();e.quicksort();if(!c(d,e))return!1;f.push(a,b);for(var g in a)if(!c(a[g],b[g]))return!1;f.pop();return!0}function c(b,e){if(f.count>f.maxStackDepth)throw Error("Stack depth exceeded: "+f.maxStackDepth+"!");if(b===e)return!0;var g=a.getType(b),m=a.getType(e);if(g!==m)return!1;var m=f.xStack.lastIndexOf(b),h=f.yStack.lastIndexOf(e);if(-1!==
m&&-1!==h)return!0;switch(g){case a.types.date:if(b.getTime()!==e.getTime()||!d(b,e))return!1;break;case a.types["function"]:if(b.toString()!==e.toString())return!1;break;case a.types.array:if(b.length!==e.length)return!1;f.push(b,e);for(g=0;g<b.length;g++)if(!c(b[g],e[g]))return!1;f.pop();break;case a.types.object:case a.types.regexp:if(!d(b,e))return!1;break;default:if(b!==e)return!1}return!0}var f=new g(1E3);return c(e,b)};a.sizeof=function(a){var b=[];a=[a];for(var d=0;a.length;){var c=a.pop();
if("boolean"===typeof c)d+=4;else if("string"===typeof c)d+=2*c.length;else if("number"===typeof c)d+=8;else if("object"===typeof c&&-1===b.indexOf(c))for(i in b.push(c),c)a.push(c[i])}return d};a.forEach=function(e,b,d){switch(a.getType(e)){case a.types.object:case a.types.date:case a.types.regexp:for(var c in e)e.hasOwnProperty(c)&&b.call(d,e[c],c);break;case a.types.array:for(c=0;c<e.length;c++)b.call(d,e[c],c)}return e};a.smash=function(){var e=Array.prototype.slice.call(arguments);if(0>=e.length)return null;
if(1===e.length)return e[0];var b,d=a.getType(e[0]);d===a.types.object?b={}:d===a.types.array&&(b=[]);for(var c=e.length-1;0<=c;c--)a.assert(function(){return d===a.getType(e[c])}),a.forEach(e[c],function(d,p){if(a.check.exists(b[p])){var g=e[c][p],k=a.getType(b[p]),g=a.getType(g);k!==g||k!==a.types.array&&k!==a.types.object||(b[p]=a.smash(b[p],e[c][p]))}else b[p]=a.deepCopy(e[c][p])});return b};a.lambda=function(e){if(null==e)return a.functions.identity;if(a.getType(e)===a.types["function"])return e;
if(a.getType(e)===a.types.string){if(a.equals(e,""))return a.functions.identity;if(-1<e.indexOf("=>")){var b=e.match(a.functions.matcher);return(new Function(b[1]||[],"return "+b[2]+";")).bind(arguments.callee.caller)}}return function(b){return a.equals(e,b)}};(function(){a.functions={identity:function(a){return a},"true":function(a){return!0},"false":function(a){return!1},empty:function(a){},matcher:/^(?:[(\s*]*)?(\w+(?:,\s*\w+)*)?(?:[)\s*]*)?=>(?:\s*)?(.*)$/};a.types={array:a.getType([]),"boolean":a.getType(!0),
date:a.getType(new Date),"function":a.getType(function(){}),"null":a.getType(null),number:a.getType(0),object:a.getType({}),string:a.getType(""),regexp:a.getType(RegExp()),undefined:a.getType(n)}})();h.util=a})(window||this);(function(h,n){var a=h.util||{};a.setup=function(g){g=g||{};a.setup.initArrays(g.useArrayExtensions);a.setup.initObjects(g.useObjectExtensions)};h.util=a})(window||this);
(function(h,n){var a=h.util||{};a.arrays={};a.arrays.aggregate=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],b=arguments[b++];a.assert.isNonEmptyArray(d);for(var c=a.lambda(c),b=null==b?d[0]:c(b,d[0]),f=1;f<d.length;f++)b=c(b,d[f]);return b};a.arrays.any=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++];if(null==b)return 0<d.length;for(var b=a.lambda(b),c=0;c<d.length;c++)if(b(d[c]))return!0;return!1};a.arrays.average=
function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++];return a.arrays.sum(d,b)/d.length};a.arrays.contains=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],b=arguments[b++];if(null==b)for(var f=0;f<d.length;f++){if(a.equals(d[f],c))return!0}else for(b=a.lambda(b),f=0;f<d.length;f++)if(a.equals(c,b(d[f])))return!0;return!1};var g=function(){return a.deepCopy(this)};a.arrays.distinct=function(){var b=0,d=a.getType(this)===
a.types.array?this:arguments[b++],b=arguments[b++],c=[];if(null==b)for(var f=0;f<d.length;f++)c.contains(d[f])||c.push(d[f]);else for(b=a.lambda(b),f=0;f<d.length;f++)c.contains(b(d[f]),b)||c.push(d[f]);return c};var e=function(b){return a.equals(this,b)};a.arrays.first=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],d=this;if(null==b){if(0<d.length)return d[0]}else for(var b=a.lambda(b),c=0;c<d.length;c++)if(b(d[c]))return d[c];return null};a.arrays.innerJoin=
function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++];a.check.isNonEmptyArray(c);return{on:function(b){var e=[];b=a.lambda(b);for(var g=0;g<d.length;g++){a.check.isObject(d[g]);for(var k=0;k<c.length;k++)a.check.isObject(c[k]),b(d[g],c[k])&&e.push(a.smash(d[g],c[k]))}return e}}};a.arrays.last=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++];if(null==b){if(0<d.length)return d[d.length-1]}else for(var b=a.lambda(b),c=d.length-
1;0<=c;c--)if(b(d[c]))return d[c];return null};a.arrays.max=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=Number.MIN_VALUE;if(null!=b)for(var b=a.lambda(b),f=0;f<d.length;f++){var e=b(d[f]);a.check.isNumber(e)&&c<e&&(c=e)}else for(f=0;f<d.length;f++)e=d[f],a.check.isNumber(e)&&c<e&&(c=e);return c};a.arrays.min=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=Number.MAX_VALUE;if(null!=b)for(var b=a.lambda(b),f=
0;f<d.length;f++){var e=b(d[f]);a.check.isNumber(e)&&e<c&&(c=e)}else for(f=0;f<d.length;f++)e=d[f],a.check.isNumber(e)&&e<c&&(c=e);return c};a.arrays.orderBy=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],b=arguments[b++],c=a.lambda(c),b=b||function(a,b){return c(a)>c(b)?1:c(a)<c(b)?-1:0},f=d.where(function(a){return null!=c(a)}),d=d.where(function(a){return null==c(a)});f.quicksort(b);return f.concat(d)};a.arrays.quicksort=function(){var b=0,d=a.getType(this)===
a.types.array?this:arguments[b++],c=arguments[b++],c=a.getType(c)===a.types.string?a.lambda(c):c||function(a,b){return a>b?1:a<b?-1:0},f=function(a,b){do{var e=a,g=b,h=d[Math.floor((a+b)/2)];do{for(;e<d.length&&0>c(d[e],h);)e++;for(;0<=g&&0>c(h,d[g]);)g--;if(e>g)break;e<g&&d.swap(e,g);e++;g--}while(e<=g);g-a<=b-e?(a<g&&f(a,g),a=e):(e<b&&f(e,b),b=g)}while(a<b)};f(0,this.length-1)};a.arrays.quicksort3=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],c=a.getType(c)===
a.types.string?a.lambda(c):c||function(a,b){return a>b?1:a<b?-1:0},f=function(a,b){for(var e=a,g=b,h=d[a],n=a+1;n<=g;){var s=c(d[n],h);0>s?d.swap(e++,n++):0<s?d.swap(n,g--):n++}a<e-1&&f(a,e-1);g+1<b&&f(g+1,b)};f(0,this.length-1)};a.arrays.removeAll=function(){for(var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=0,b=a.lambda(b),f=d.length-1;-1<f;f--)b(d[f])&&(d.splice(f,1),c++);return c};a.arrays.select=function(){for(var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],
b=arguments[b++],c=[],b=a.lambda(b),f=0;f<d.length;f++)c.push(b(d[f]));return c};a.arrays.skip=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++];a.assert(function(){return 0<c&&c<=d.length});for(var b=[],f=0;f<d.length-c;f++)b[f]=d[f+c];return b};a.arrays.sum=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=0;if(null!=b)for(var b=a.lambda(b),f=0;f<d.length;f++){var e=b(d[f]);a.check.isNumber(e)&&(c+=e)}else for(f=0;f<
d.length;f++)a.check.isNumber(d[f])&&(c+=d[f]);return c};a.arrays.swap=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],b=arguments[b++],f=d[c];d[c]=d[b];d[b]=f};a.arrays.take=function(){var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++];a.assert(function(){return 0<c&&c<=d.length});for(var b=[],f=0;f<c;f++)b[f]=d[f];return b};a.arrays.takeWhile=function(){for(var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],
c=[],b=a.lambda(b),f=0;f<count&&b(d[f]);f++)c.push(d[f]);return c};a.arrays.where=function(){for(var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],b=a.lambda(b),d=this,c=[],f=0;f<d.length;f++)b(d[f])&&c.push(d[f]);return c};a.arrays.zip=function(){for(var b=0,d=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],b=arguments[b++],b=a.lambda(b),f=[],e=0;e<this.length;e++)f.push(b(d[e],c[e]));return f};a.setup.initArrays=function(b){b&&(a.defineProperty(Array.prototype,
"aggregate",{enumerable:!1,writable:!1,value:a.arrays.aggregate}),a.defineProperty(Array.prototype,"any",{enumerable:!1,writable:!1,value:a.arrays.any}),a.defineProperty(Array.prototype,"average",{enumerable:!1,writable:!1,value:a.arrays.average}),a.defineProperty(Array.prototype,"contains",{enumerable:!1,writable:!1,value:a.arrays.contains}),a.defineProperty(Array.prototype,"deepCopy",{enumerable:!1,writable:!1,value:g}),a.defineProperty(Array.prototype,"distinct",{enumerable:!1,writable:!1,value:a.arrays.distinct}),
a.defineProperty(Array.prototype,"equals",{enumerable:!1,writable:!1,value:e}),a.defineProperty(Array.prototype,"first",{enumerable:!1,writable:!1,value:a.arrays.first}),a.defineProperty(Array.prototype,"innerJoin",{enumerable:!1,writable:!1,value:a.arrays.innerJoin}),a.defineProperty(Array.prototype,"last",{enumerable:!1,writable:!1,value:a.arrays.last}),a.defineProperty(Array.prototype,"max",{enumerable:!1,writable:!1,value:a.arrays.max}),a.defineProperty(Array.prototype,"min",{enumerable:!1,writable:!1,
value:a.arrays.min}),a.defineProperty(Array.prototype,"orderBy",{enumerable:!1,writable:!1,value:a.arrays.orderBy}),a.defineProperty(Array.prototype,"quicksort",{enumerable:!1,writable:!1,value:a.arrays.quicksort}),a.defineProperty(Array.prototype,"quicksort3",{enumerable:!1,writable:!1,value:a.arrays.quicksort3}),a.defineProperty(Array.prototype,"removeAll",{enumerable:!1,writable:!1,value:a.arrays.removeAll}),a.defineProperty(Array.prototype,"select",{enumerable:!1,writable:!1,value:a.arrays.select}),
a.defineProperty(Array.prototype,"skip",{enumerable:!1,writable:!1,value:a.arrays.skip}),a.defineProperty(Array.prototype,"sum",{enumerable:!1,writable:!1,value:a.arrays.sum}),a.defineProperty(Array.prototype,"swap",{enumerable:!1,writable:!1,value:a.arrays.swap}),a.defineProperty(Array.prototype,"take",{enumerable:!1,writable:!1,value:a.arrays.take}),a.defineProperty(Array.prototype,"takeWhile",{enumerable:!1,writable:!1,value:a.arrays.takeWhile}),a.defineProperty(Array.prototype,"where",{enumerable:!1,
writable:!1,value:a.arrays.where}),a.defineProperty(Array.prototype,"zip",{enumerable:!1,writable:!1,value:a.arrays.zip}))};h.util=a})(window||this);
(function(h,n){var a=h.util||{};a.classes=a.classes||{};var g=function(b,c){var d=arguments.callee.caller;if(a.getType(b)===a.types["function"]){if(!b()){if(c)throw Error(c);d=b.toString();d=d.substring(d.indexOf("{")+1,d.lastIndexOf("}")).trim();throw Error("Assertion failed: "+d);}}else if(a.getType(b)===a.types.string){if(b=a.lambda(b).bind(d),!b()){if(c)throw Error(c);d=b.toString();d=d.substring(d.indexOf("{")+1,d.lastIndexOf("}")).trim();throw Error("Assertion failed: "+d);}}else if(!b){if(c)throw Error(c);
throw Error("Assertion failed: "+String(b));}},e=function(){g(function(){return a.check.argsNotNull.apply(this,arguments)})},b=function(b){g(function(){return a.check.exists(b)})},d=function(b){g(function(){return a.check.isArray(b)})},c=function(b){g(function(){return a.check.isBoolean(b)})},f=function(b){g(function(){return a.check.isFunction(b)})},p=function(b){g(function(){return a.check.isNonEmptyArray(b)})},l=function(b){g(function(){return a.check.isNumber(b)})},k=function(b){g(function(){return a.check.isObject(b)})},
m=function(b){g(function(){return a.check.isReference(b)})},q=function(b){g(function(){return a.check.isString(b)})},r=function(b,c){g(function(){return a.check.isType(b,c)})},s=function(b){g(function(){return a.check.isValue(b)})},t=function(){return function(){return function(g){a.defineProperty(g,"argsNotNull",{get:function(){return e},writeable:!1});a.defineProperty(g,"exists",{get:function(){return b},writeable:!1});a.defineProperty(g,"isArray",{get:function(){return d},writeable:!1});a.defineProperty(g,
"isBoolean",{get:function(){return c},writeable:!1});a.defineProperty(g,"isFunction",{get:function(){return f},writeable:!1});a.defineProperty(g,"isNonEmptyArray",{get:function(){return p},writeable:!1});a.defineProperty(g,"isNumber",{get:function(){return l},writeable:!1});a.defineProperty(g,"isObject",{get:function(){return k},writeable:!1});a.defineProperty(g,"isReference",{get:function(){return m},writeable:!1});a.defineProperty(g,"isString",{get:function(){return q},writeable:!1});a.defineProperty(g,
"isType",{get:function(){return r},writeable:!1});a.defineProperty(g,"isValue",{get:function(){return s},writeable:!1});return g}(g)}}();a.classes.Asserter=t;a.assert=new a.classes.Asserter;h.util=a})(window||this);
(function(h,n){var a=h.util||{},g=function(){};g.argsNotNull=function(){for(var a=0;a<arguments.length;a++)if(null==arguments[a])return!1;return!0};g.exists=function(a){return null!=a};g.isArray=function(e){return a.getType(e)===a.types.array};g.isBoolean=function(e){return a.getType(e)===a.types["boolean"]};g.isFunction=function(e){return a.getType(e)===a.types["function"]};g.isNonEmptyArray=function(e){return null!=e&&a.getType(e)===a.types.array&&0<e.length};g.isNumber=function(a){return!isNaN(a)};
g.isObject=function(e){return a.getType(e)===a.types.object};g.isReference=function(e){switch(a.getType(e)){case a.types.object:case a.types.array:case a.types.date:case a.types.regexp:case a.types["function"]:return!0;default:return!1}};g.isString=function(e){return a.getType(e)===a.types.string};g.isType=function(e,b){return a.getType(e)===b};g.isValue=function(e){switch(a.getType(e)){case a.types.string:case a.types["boolean"]:case a.types.number:case a.types["null"]:case a.types.undefined:return!0;
default:return!1}};a.check=g;h.util=a})(window||this);
(function(h,n){var a=h.util||{},g={},e;g.build=function(b){a.check.isObject(b);a.check.isArray(b.Tables);b=b.Tables.orderBy("x => x.TableName");for(var d=0;d<b.length;d++)g.makeTable(b[d])};g.makeTable=function(b){a.check.isObject(b);a.check.isString(b.TableName);a.check.isArray(b.PrimaryKeys);a.check.isArray(b.ForeignKeys);var d=[],c=[],f=[],h=[];switch(e){case "sqlite":d.push("CREATE TABLE IF NOT EXISTS "+b.TableName+" (");for(var l=0;l<b.Columns.length;l++){var k=b.Columns[l],m=g.types[k.DataType][e],
m=m.length?m.type+"("+m.length+")":m.type;0===l?c.push("    "+k.ColumnName+" "+m+(k.IsNullable?"":" NOT NULL")):c.push(k.ColumnName+" "+m+(k.IsNullable?"":" NOT NULL"))}c=c.join("\n    , ");d.push(c);h.push("    , PRIMARY KEY (");for(l=0;l<b.PrimaryKeys.length;l++)f.push(b.PrimaryKeys[l].ColumnName);h.push(f.join(", "));h.push(")");b=h.join("");d.push(b);d.push(")");d.join("\n")}};g.load=function(b,d,c){a.check.isString(b);a.check.isString(d);a.check.isNumber(c);e=d.toLowerCase();switch(e){case "sqlite":openDatabase(b,
"0.1",b,c)}};g.types={bit:{sqlite:{type:"INTEGER"}},"char":{sqlite:{type:"TEXT"}},datetime:{sqlite:{type:"TEXT"}},datetime2:{sqlite:{type:"TEXT"}},decimal:{sqlite:{type:"REAL"}},"float":{sqlite:{type:"REAL"}},"int":{sqlite:{type:"INTEGER"}},money:{sqlite:{type:"REAL"}},nvarchar:{sqlite:{type:"TEXT"}},smallint:{sqlite:{type:"INTEGER"}},smallmoney:{sqlite:{type:"REAL"}},text:{sqlite:{type:"TEXT"}},tinyint:{sqlite:{type:"INTEGER"}},varchar:{sqlite:{type:"TEXT"}},uniqueidentifier:{sqlite:{type:"CHAR",
length:36},mssql:{type:"uniqueidentifier"}}};a.db=g;h.util=a})(window||this);
(function(h,n){var a=h.util||{};a.classes=a.classes||{};var g=function(){return function(){var e=[],b=function(a){var b=e[a];if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d.func&&d.func.apply(null,Array.prototype.slice.call(arguments,1))}},d=function(b){a.check.exists(b);e[b]=null},c=function(b,c){a.check.exists(b);a.check.isFunction(c);var d=e[b]||(e[b]=[]),g={func:c};d.push(g);return function(){e[b].removeAll(function(a){return a===g})}};return function(e){a.defineProperty(e,"call",{get:function(){return b},
writeable:!1});a.defineProperty(e,"clear",{get:function(){return d},writeable:!1});a.defineProperty(e,"on",{get:function(){return c},writeable:!1});return e}({})}}();a.classes.Events=g;a.events=new a.classes.Events;h.util=a})(window||this);
(function(h,n){var a=h.util||{},g=/\+/g,e=function(b){a.defineProperty(b,"parameters",{get:function(){var a={},b=window.location.href,e=b.indexOf("?");if(-1<e)for(b=b.substring(e+1).split("&"),e=0;e<b.length;e++){var h=b[e].split("=");2==h.length&&(a[h[0]]=decodeURIComponent(h[1].replace(g," ")))}return a},writeable:!1});return b}({});a.location=e;h.util=a})(window||this);
(function(h,n){var a=h.util||{};a.classes=a.classes||{};var g=["debug","error","info","log","warn"],e=function(){return function(b,d){var c,e,h,l,k,m,q=function(b){if(a.getType(b)===a.types.string)a:switch(b.toLowerCase().trim()){case "false":case "0":case "":case null:case n:b=!1;break a;default:b=!0}c=!!b},r;(r=function(b){a.assert.exists(b);for(var c=0;c<g.length;c++)a.assert.isFunction(b[g[c]]);e=b.debug.bind(b);h=b.error.bind(b);l=b.info.bind(b);k=b.log.bind(b);m=b.warn.bind(b);q(null!=d?d:a.location?
a.location.parameters.debug:!1)})(b);return function(b){a.defineProperty(b,"debug",{get:function(){return c?e:a.functions.empty},writeable:!1});a.defineProperty(b,"error",{get:function(){return h},writeable:!1});a.defineProperty(b,"info",{get:function(){return l},writeable:!1});a.defineProperty(b,"log",{get:function(){return k},writeable:!1});a.defineProperty(b,"warn",{get:function(){return m},writeable:!1});a.defineProperty(b,"setDebugLogging",{get:function(){return q},writeable:!1});a.defineProperty(b,
"setLogger",{get:function(){return r},writeable:!1});return b}(k)}}();a.classes.LogInterface=e;a.log=new a.classes.LogInterface(console);h.util=a})(window||this);
(function(h,n){var a=h.util||{};a.match=function(g,e){var b=[];if(!e||a.getType(e)!==a.types.object||!g||a.getType(g)!==a.types.array||1>g.length)return b;var d=Object.keys(e).length;if(1>d)return b;for(var c,f=0;f<g.length;f++){c=0;for(var h in e){var l;l=g[f][h];var k=e[h];if(a.getType(l)===a.types.array){a.getType(k)!==a.types.array&&(k=[k]);b:{for(var m=0;m<k.length;m++)if(!l.contains(k[m])){l=!1;break b}l=!0}}else l=l===k;l&&c++}c===d&&b.push(g[f])}return b};h.util=a})(window||this);
(function(h,n){var a=h.util||{};a.objects={};var g=function(){return a.deepCopy(this)},e=function(b,d){return a.defineProperty(this,b,d)},b=function(b){return a.equals(this,b)},d=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this);return a.objects.smash.apply(null,b)};a.objects.smash=function(){return a.smash.apply(null,arguments)};a.setup.initObjects=function(c){c&&(a.defineProperty(Object.prototype,"deepCopy",{enumerable:!1,writable:!1,value:g}),a.defineProperty(Object.prototype,
"defineProperty",{enumerable:!1,writable:!1,value:e}),a.defineProperty(Object.prototype,"equals",{enumerable:!1,writable:!1,value:b}),a.defineProperty(Object.prototype,"smash",{enumerable:!1,writable:!1,value:d}))};h.util=a})(window||this);
(function(h,n){function a(a){var b=new g,f=a||"";this.stop=function(){b.stop();e.log.debug(f+" took: "+b.duration()+" ms")};b.start()}function g(){var a=null,b=null,e=!1;this.start=function(){e||(b=null,e=!0,a=(new Date).getTime())};this.stop=function(){e&&(b=(new Date).getTime(),e=!1)};this.duration=function(){return e?(new Date).getTime()-a:b-a};this.reset=function(){e=!1;b=a=null}}var e=h.util||{};e.classes=e.classes||{};var b=function(){return function(){var b=[],c=function(c){b.push(new a(c))},
f=function(){0<b.length&&b.pop().stop()};return function(a){e.defineProperty(a,"push",{get:function(){return c},writeable:!1});e.defineProperty(a,"pop",{get:function(){return f},writeable:!1});return a}({})}}();e.classes.StopwatchStack=b;e.classes.StopwatchWrapper=a;e.classes.Stopwatch=g;e.sw=new e.classes.StopwatchStack;h.util=e})(window||this);

/*

    Copyright (C) 2014 Dave Lesage
    License: MIT
    See license.txt for full license text.
*/
function zUtil(a){this.setup(a)}
(function(a){var d=zUtil.prototype,g=function(){function a(b){this.xStack=[];this.yStack=[];this.count=0;this.maxStackDepth=b}a.prototype.push=function(a,e){this.xStack.push(a);this.yStack.push(e);this.count++};a.prototype.pop=function(){this.xStack.pop();this.yStack.pop();this.count--};return a}();d.getType=function(a){return Object.prototype.toString.call(a).match(/^\[object (.+)\]$/)[1]};d.deepCopy=function(a){function b(a,b){c=f.xStack.indexOf(a);return-1===c?(f.push(a,b),d.forEach(a,function(a,
c){b[c]=e(a)}),f.pop(),b):f.yStack[c]}function e(a){if(f.count>f.maxStackDepth)throw Error("Stack depth exceeded: "+f.stackMaxDepth+"!");switch(d.getType(a)){case d.types.object:return b(a,Object.create(a));case d.types.array:return b(a,[]);case d.types.regexp:return b(a,new RegExp(a));case d.types.date:return b(a,new Date(a.toString()));default:return a}}var c=-1,f=new g(1E3);return e(a)};d.defineProperty=function(a,b,e){null==a[b]?Object.defineProperty(a,b,e):console.error("Error: the method "+
b+" has already been defined on the following object: "+a)};d.equals=function(a,b){function e(a,b){if(a===b)return!0;var e=Object.keys(a),h=Object.keys(b);e.quicksort();h.quicksort();if(!c(e,h))return!1;f.push(a,b);for(var d in a)if(!c(a[d],b[d]))return!1;f.pop();return!0}function c(a,b){if(f.count>f.maxStackDepth)throw Error("Stack depth exceeded: "+f.maxStackDepth+"!");if(a===b)return!0;var h=d.getType(a),g=d.getType(b);if(h!==g)return!1;var g=f.xStack.lastIndexOf(a),q=f.yStack.lastIndexOf(b);if(-1!==
g&&-1!==q)return!0;switch(h){case d.types.date:if(a.getTime()!==b.getTime()||!e(a,b))return!1;break;case d.types["function"]:if(a.toString()!==b.toString())return!1;break;case d.types.array:if(a.length!==b.length)return!1;f.push(a,b);for(h=0;h<a.length;h++)if(!c(a[h],b[h]))return!1;f.pop();break;case d.types.object:case d.types.regexp:if(!e(a,b))return!1;break;default:if(a!==b)return!1}return!0}var f=new g(1E3);return c(a,b)};d.sizeof=function(a){var b=[];a=[a];for(var e=0;a.length;){var c=a.pop();
if("boolean"===typeof c)e+=4;else if("string"===typeof c)e+=2*c.length;else if("number"===typeof c)e+=8;else if("object"===typeof c&&-1===b.indexOf(c))for(i in b.push(c),c)a.push(c[i])}return e};d.forEach=function(a,b,e){switch(d.getType(a)){case d.types.object:case d.types.date:case d.types.regexp:for(var c in a)a.hasOwnProperty(c)&&b.call(e,a[c],c);break;case d.types.array:for(c=0;c<a.length;c++)b.call(e,a[c],c)}return a};d.smash=function(){var a=Array.prototype.slice.call(arguments);if(0>=a.length)return null;
if(1===a.length)return a[0];var b,e=d.getType(a[0]);e===d.types.object?b={}:e===d.types.array&&(b=[]);for(var c=a.length-1;0<=c;c--)d.assert(function(){return e===d.getType(a[c])}),d.forEach(a[c],function(e,k){if(d.check.exists(b[k])){var g=a[c][k],m=d.getType(b[k]),g=d.getType(g);m!==g||m!==d.types.array&&m!==d.types.object||(b[k]=d.smash(b[k],a[c][k]))}else b[k]=d.deepCopy(a[c][k])});return b};d.lambda=function(a){if(null==a)return d.functions.identity;if(d.getType(a)===d.types["function"])return a;
if(d.getType(a)===d.types.string){if(d.equals(a,""))return d.functions.identity;if(-1<a.indexOf("=>")){var b=a.match(d.functions.matcher);return(new Function(b[1]||[],"return "+b[2]+";")).bind(arguments.callee.caller)}}return function(b){return d.equals(a,b)}};d.setup=function(a){a=a||{};d.setup.initArrays(a.useArrayExtensions);d.setup.initObjects(a.useObjectExtensions);d.setup.initLogger(a.defaultLogger)};(function(){d.functions={identity:function(a){return a},"true":function(a){return!0},"false":function(a){return!1},
empty:function(a){},matcher:/^(?:[(\s*]*)?(\w+(?:,\s*\w+)*)?(?:[)\s*]*)?=>(?:\s*)?(.*)$/};d.types={array:d.getType([]),"boolean":d.getType(!0),date:d.getType(new Date),"function":d.getType(function(){}),"null":d.getType(null),number:d.getType(0),object:d.getType({}),string:d.getType(""),regexp:d.getType(RegExp()),undefined:d.getType(a)}})()})();
(function(a,d){a.arrays={};a.arrays.aggregate=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],b=arguments[b++];a.assert.isNonEmptyArray(e);for(var c=a.lambda(c),b=null==b?e[0]:c(b,e[0]),f=1;f<e.length;f++)b=c(b,e[f]);return b};a.arrays.any=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++];if(null==b)return 0<e.length;for(var b=a.lambda(b),c=0;c<e.length;c++)if(b(e[c]))return!0;return!1};a.arrays.average=function(){var b=
0,e=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++];return a.arrays.sum(e,b)/e.length};a.arrays.contains=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],b=arguments[b++];if(null==b)for(var f=0;f<e.length;f++){if(a.equals(e[f],c))return!0}else for(b=a.lambda(b),f=0;f<e.length;f++)if(a.equals(c,b(e[f])))return!0;return!1};var g=function(){return a.deepCopy(this)};a.arrays.distinct=function(){var b=0,e=a.getType(this)===a.types.array?this:
arguments[b++],b=arguments[b++],c=[];if(null==b)for(var f=0;f<e.length;f++)c.contains(e[f])||c.push(e[f]);else for(b=a.lambda(b),f=0;f<e.length;f++)c.contains(b(e[f]),b)||c.push(e[f]);return c};var h=function(b){return a.equals(this,b)};a.arrays.first=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],e=this;if(null==b){if(0<e.length)return e[0]}else for(var b=a.lambda(b),c=0;c<e.length;c++)if(b(e[c]))return e[c];return null};a.arrays.innerJoin=function(){var b=
0,e=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++];a.check.isNonEmptyArray(c);return{on:function(b){var k=[];b=a.lambda(b);for(var d=0;d<e.length;d++){a.check.isObject(e[d]);for(var h=0;h<c.length;h++)a.check.isObject(c[h]),b(e[d],c[h])&&k.push(a.smash(e[d],c[h]))}return k}}};a.arrays.last=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++];if(null==b){if(0<e.length)return e[e.length-1]}else for(var b=a.lambda(b),c=e.length-1;0<=c;c--)if(b(e[c]))return e[c];
return null};a.arrays.max=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=Number.MIN_VALUE;if(null!=b)for(var b=a.lambda(b),f=0;f<e.length;f++){var k=b(e[f]);a.check.isNumber(k)&&c<k&&(c=k)}else for(f=0;f<e.length;f++)k=e[f],a.check.isNumber(k)&&c<k&&(c=k);return c};a.arrays.min=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=Number.MAX_VALUE;if(null!=b)for(var b=a.lambda(b),f=0;f<e.length;f++){var k=b(e[f]);a.check.isNumber(k)&&
k<c&&(c=k)}else for(f=0;f<e.length;f++)k=e[f],a.check.isNumber(k)&&k<c&&(c=k);return c};a.arrays.orderBy=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],b=arguments[b++],c=a.lambda(c),b=b||function(a,b){return c(a)>c(b)?1:c(a)<c(b)?-1:0},f=e.where(function(a){return null!=c(a)}),e=e.where(function(a){return null==c(a)});f.quicksort(b);return f.concat(e)};a.arrays.quicksort=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],
c=a.getType(c)===a.types.string?a.lambda(c):c||function(a,b){return a>b?1:a<b?-1:0},f=function(a,b){do{var d=a,h=b,g=e[Math.floor((a+b)/2)];do{for(;d<e.length&&0>c(e[d],g);)d++;for(;0<=h&&0>c(g,e[h]);)h--;if(d>h)break;d<h&&e.swap(d,h);d++;h--}while(d<=h);h-a<=b-d?(a<h&&f(a,h),a=d):(d<b&&f(d,b),b=h)}while(a<b)};f(0,this.length-1)};a.arrays.quicksort3=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],c=a.getType(c)===a.types.string?a.lambda(c):c||function(a,b){return a>
b?1:a<b?-1:0},f=function(a,b){for(var d=a,h=b,g=e[a],p=a+1;p<=h;){var r=c(e[p],g);0>r?e.swap(d++,p++):0<r?e.swap(p,h--):p++}a<d-1&&f(a,d-1);h+1<b&&f(h+1,b)};f(0,this.length-1)};a.arrays.removeAll=function(){for(var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=0,b=a.lambda(b),f=e.length-1;-1<f;f--)b(e[f])&&(e.splice(f,1),c++);return c};a.arrays.select=function(){for(var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=[],b=a.lambda(b),f=0;f<
e.length;f++)c.push(b(e[f]));return c};a.arrays.skip=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++];a.assert(function(){return 0<c&&c<=e.length});for(var b=[],f=0;f<e.length-c;f++)b[f]=e[f+c];return b};a.arrays.sum=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=0;if(null!=b)for(var b=a.lambda(b),f=0;f<e.length;f++){var d=b(e[f]);a.check.isNumber(d)&&(c+=d)}else for(f=0;f<e.length;f++)a.check.isNumber(e[f])&&(c+=
e[f]);return c};a.arrays.swap=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],b=arguments[b++],f=e[c];e[c]=e[b];e[b]=f};a.arrays.take=function(){var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++];a.assert(function(){return 0<c&&c<=e.length});for(var b=[],f=0;f<c;f++)b[f]=e[f];return b};a.arrays.takeWhile=function(){for(var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],c=[],b=a.lambda(b),f=0;f<count&&
b(e[f]);f++)c.push(e[f]);return c};a.arrays.where=function(){for(var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],b=arguments[b++],b=a.lambda(b),e=this,c=[],f=0;f<e.length;f++)b(e[f])&&c.push(e[f]);return c};a.arrays.zip=function(){for(var b=0,e=a.getType(this)===a.types.array?this:arguments[b++],c=arguments[b++],b=arguments[b++],b=a.lambda(b),f=[],d=0;d<this.length;d++)f.push(b(e[d],c[d]));return f};a.setup.initArrays=function(b){b&&(a.defineProperty(Array.prototype,"aggregate",{enumerable:!1,
writable:!1,value:a.arrays.aggregate}),a.defineProperty(Array.prototype,"any",{enumerable:!1,writable:!1,value:a.arrays.any}),a.defineProperty(Array.prototype,"average",{enumerable:!1,writable:!1,value:a.arrays.average}),a.defineProperty(Array.prototype,"contains",{enumerable:!1,writable:!1,value:a.arrays.contains}),a.defineProperty(Array.prototype,"deepCopy",{enumerable:!1,writable:!1,value:g}),a.defineProperty(Array.prototype,"distinct",{enumerable:!1,writable:!1,value:a.arrays.distinct}),a.defineProperty(Array.prototype,
"equals",{enumerable:!1,writable:!1,value:h}),a.defineProperty(Array.prototype,"first",{enumerable:!1,writable:!1,value:a.arrays.first}),a.defineProperty(Array.prototype,"innerJoin",{enumerable:!1,writable:!1,value:a.arrays.innerJoin}),a.defineProperty(Array.prototype,"last",{enumerable:!1,writable:!1,value:a.arrays.last}),a.defineProperty(Array.prototype,"max",{enumerable:!1,writable:!1,value:a.arrays.max}),a.defineProperty(Array.prototype,"min",{enumerable:!1,writable:!1,value:a.arrays.min}),a.defineProperty(Array.prototype,
"orderBy",{enumerable:!1,writable:!1,value:a.arrays.orderBy}),a.defineProperty(Array.prototype,"quicksort",{enumerable:!1,writable:!1,value:a.arrays.quicksort}),a.defineProperty(Array.prototype,"quicksort3",{enumerable:!1,writable:!1,value:a.arrays.quicksort3}),a.defineProperty(Array.prototype,"removeAll",{enumerable:!1,writable:!1,value:a.arrays.removeAll}),a.defineProperty(Array.prototype,"select",{enumerable:!1,writable:!1,value:a.arrays.select}),a.defineProperty(Array.prototype,"skip",{enumerable:!1,
writable:!1,value:a.arrays.skip}),a.defineProperty(Array.prototype,"sum",{enumerable:!1,writable:!1,value:a.arrays.sum}),a.defineProperty(Array.prototype,"swap",{enumerable:!1,writable:!1,value:a.arrays.swap}),a.defineProperty(Array.prototype,"take",{enumerable:!1,writable:!1,value:a.arrays.take}),a.defineProperty(Array.prototype,"takeWhile",{enumerable:!1,writable:!1,value:a.arrays.takeWhile}),a.defineProperty(Array.prototype,"where",{enumerable:!1,writable:!1,value:a.arrays.where}),a.defineProperty(Array.prototype,
"zip",{enumerable:!1,writable:!1,value:a.arrays.zip}))}})(zUtil.prototype);
(function(a,d){a.classes=a.classes||{};var g=function(b,c){var e=arguments.callee.caller;if(a.getType(b)===a.types["function"]){if(!b()){if(c)throw Error(c);e=b.toString();e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}")).trim();throw Error("Assertion failed: "+e);}}else if(a.getType(b)===a.types.string){if(b=a.lambda(b).bind(e),!b()){if(c)throw Error(c);e=b.toString();e=e.substring(e.indexOf("{")+1,e.lastIndexOf("}")).trim();throw Error("Assertion failed: "+e);}}else if(!b){if(c)throw Error(c);
throw Error("Assertion failed: "+String(b));}},h=function(){g(function(){return a.check.argsNotNull.apply(this,arguments)})},b=function(b){g(function(){return a.check.exists(b)})},e=function(b){g(function(){return a.check.isArray(b)})},c=function(b){g(function(){return a.check.isBoolean(b)})},f=function(b){g(function(){return a.check.isFunction(b)})},k=function(b){g(function(){return a.check.isNonEmptyArray(b)})},l=function(b){g(function(){return a.check.isNumber(b)})},m=function(b){g(function(){return a.check.isObject(b)})},
n=function(b){g(function(){return a.check.isReference(b)})},q=function(b){g(function(){return a.check.isString(b)})},p=function(b,c){g(function(){return a.check.isType(b,c)})},r=function(b){g(function(){return a.check.isValue(b)})},s=function(){return function(){return function(d){a.defineProperty(d,"argsNotNull",{get:function(){return h},writeable:!1});a.defineProperty(d,"exists",{get:function(){return b},writeable:!1});a.defineProperty(d,"isArray",{get:function(){return e},writeable:!1});a.defineProperty(d,
"isBoolean",{get:function(){return c},writeable:!1});a.defineProperty(d,"isFunction",{get:function(){return f},writeable:!1});a.defineProperty(d,"isNonEmptyArray",{get:function(){return k},writeable:!1});a.defineProperty(d,"isNumber",{get:function(){return l},writeable:!1});a.defineProperty(d,"isObject",{get:function(){return m},writeable:!1});a.defineProperty(d,"isReference",{get:function(){return n},writeable:!1});a.defineProperty(d,"isString",{get:function(){return q},writeable:!1});a.defineProperty(d,
"isType",{get:function(){return p},writeable:!1});a.defineProperty(d,"isValue",{get:function(){return r},writeable:!1});return d}(g)}}();a.classes.Asserter=s;a.assert=new a.classes.Asserter})(zUtil.prototype);
(function(a,d){var g=function(){};g.argsNotNull=function(){for(var a=0;a<arguments.length;a++)if(null==arguments[a])return!1;return!0};g.exists=function(a){return null!=a};g.isArray=function(d){return a.getType(d)===a.types.array};g.isBoolean=function(d){return a.getType(d)===a.types["boolean"]};g.isFunction=function(d){return a.getType(d)===a.types["function"]};g.isNonEmptyArray=function(d){return null!=d&&a.getType(d)===a.types.array&&0<d.length};g.isNumber=function(a){return!isNaN(a)};g.isObject=
function(d){return a.getType(d)===a.types.object};g.isReference=function(d){switch(a.getType(d)){case a.types.object:case a.types.array:case a.types.date:case a.types.regexp:case a.types["function"]:return!0;default:return!1}};g.isString=function(d){return a.getType(d)===a.types.string};g.isType=function(d,b){return a.getType(d)===b};g.isValue=function(d){switch(a.getType(d)){case a.types.string:case a.types["boolean"]:case a.types.number:case a.types["null"]:case a.types.undefined:return!0;default:return!1}};
a.check=g})(zUtil.prototype);
(function(a,d){var g={},h;g.build=function(b){a.check.isObject(b);a.check.isArray(b.Tables);b=b.Tables.orderBy("x => x.TableName");for(var e=0;e<b.length;e++)g.makeTable(b[e])};g.makeTable=function(b){a.check.isObject(b);a.check.isString(b.TableName);a.check.isArray(b.PrimaryKeys);a.check.isArray(b.ForeignKeys);var e=[],c=[],f=[],d=[];switch(h){case "sqlite":e.push("CREATE TABLE IF NOT EXISTS "+b.TableName+" (");for(var l=0;l<b.Columns.length;l++){var m=b.Columns[l],n=g.types[m.DataType][h],n=n.length?
n.type+"("+n.length+")":n.type;0===l?c.push("    "+m.ColumnName+" "+n+(m.IsNullable?"":" NOT NULL")):c.push(m.ColumnName+" "+n+(m.IsNullable?"":" NOT NULL"))}c=c.join("\n    , ");e.push(c);d.push("    , PRIMARY KEY (");for(l=0;l<b.PrimaryKeys.length;l++)f.push(b.PrimaryKeys[l].ColumnName);d.push(f.join(", "));d.push(")");b=d.join("");e.push(b);e.push(")");e.join("\n")}};g.load=function(b,e,c){a.check.isString(b);a.check.isString(e);a.check.isNumber(c);h=e.toLowerCase();switch(h){case "sqlite":openDatabase(b,
"0.1",b,c)}};g.types={bit:{sqlite:{type:"INTEGER"}},"char":{sqlite:{type:"TEXT"}},datetime:{sqlite:{type:"TEXT"}},datetime2:{sqlite:{type:"TEXT"}},decimal:{sqlite:{type:"REAL"}},"float":{sqlite:{type:"REAL"}},"int":{sqlite:{type:"INTEGER"}},money:{sqlite:{type:"REAL"}},nvarchar:{sqlite:{type:"TEXT"}},smallint:{sqlite:{type:"INTEGER"}},smallmoney:{sqlite:{type:"REAL"}},text:{sqlite:{type:"TEXT"}},tinyint:{sqlite:{type:"INTEGER"}},varchar:{sqlite:{type:"TEXT"}},uniqueidentifier:{sqlite:{type:"CHAR",
length:36},mssql:{type:"uniqueidentifier"}}};a.db=g})(zUtil.prototype);
(function(a,d){a.classes=a.classes||{};var g=function(){return function(){var d=[],b=function(a){var b=d[a];if(null!=b)for(var c=0;c<b.length;c++){var e=b[c];null!=e.func&&e.func.apply(null,Array.prototype.slice.call(arguments,1))}},e=function(b){a.check.exists(b);d[b]=null},c=function(b,c){a.check.exists(b);a.check.isFunction(c);var e=d[b]||(d[b]=[]),g={func:c};e.push(g);return function(){d[b].removeAll(function(a){return a===g})}};return function(d){a.defineProperty(d,"call",{get:function(){return b},
writeable:!1});a.defineProperty(d,"clear",{get:function(){return e},writeable:!1});a.defineProperty(d,"on",{get:function(){return c},writeable:!1});return d}({})}}();a.classes.Events=g;a.events=new a.classes.Events})(zUtil.prototype);
(function(a,d){var g=/\+/g,h=function(b){a.defineProperty(b,"parameters",{get:function(){var a={},b=window.location.href,d=b.indexOf("?");if(-1<d)for(b=b.substring(d+1).split("&"),d=0;d<b.length;d++){var h=b[d].split("=");2==h.length&&(a[h[0]]=decodeURIComponent(h[1].replace(g," ")))}return a},writeable:!1});return b}({});a.location=h})(zUtil.prototype);
(function(a,d){a.classes=a.classes||{};var g=["debug","error","info","log","warn"],h=function(){return function(b,e){var c,f,h,l,m,n,q=function(b){if(a.getType(b)===a.types.string)a:switch(b.toLowerCase().trim()){case "false":case "0":case "":case null:case d:b=!1;break a;default:b=!0}c=!!b},p;(p=function(b){a.assert.exists(b);for(var c=0;c<g.length;c++)a.assert.isFunction(b[g[c]]);f=b.debug.bind(b);h=b.error.bind(b);l=b.info.bind(b);m=b.log.bind(b);n=b.warn.bind(b);q(null!=e?e:a.location?a.location.parameters.debug:
!1)})(b);return function(b){a.defineProperty(b,"debug",{get:function(){return c?f:a.functions.empty},writeable:!1});a.defineProperty(b,"error",{get:function(){return h},writeable:!1});a.defineProperty(b,"info",{get:function(){return l},writeable:!1});a.defineProperty(b,"log",{get:function(){return m},writeable:!1});a.defineProperty(b,"warn",{get:function(){return n},writeable:!1});a.defineProperty(b,"setDebugLogging",{get:function(){return q},writeable:!1});a.defineProperty(b,"setLogger",{get:function(){return p},
writeable:!1});return b}(m)}}();a.setup.initLogger=function(b){a.check.exists(b)&&(a.log=new a.classes.LogInterface(b,!0))};a.classes.LogInterface=h})(zUtil.prototype);
(function(a,d){a.match=function(d,h){var b=[];if(!h||a.getType(h)!==a.types.object||!d||a.getType(d)!==a.types.array||1>d.length)return b;var e=Object.keys(h).length;if(1>e)return b;for(var c,f=0;f<d.length;f++){c=0;for(var k in h){var l;l=d[f][k];var m=h[k];if(a.getType(l)===a.types.array){a.getType(m)!==a.types.array&&(m=[m]);b:{for(var n=0;n<m.length;n++)if(!l.contains(m[n])){l=!1;break b}l=!0}}else l=l===m;l&&c++}c===e&&b.push(d[f])}return b}})(zUtil.prototype);
(function(a,d){a.objects={};var g=function(){return a.deepCopy(this)},h=function(b,e){return a.defineProperty(this,b,e)},b=function(b){return a.equals(this,b)},e=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this);return a.objects.smash.apply(null,b)};a.objects.smash=function(){return a.smash.apply(null,arguments)};a.setup.initObjects=function(c){c&&(a.defineProperty(Object.prototype,"deepCopy",{enumerable:!1,writable:!1,value:g}),a.defineProperty(Object.prototype,"defineProperty",
{enumerable:!1,writable:!1,value:h}),a.defineProperty(Object.prototype,"equals",{enumerable:!1,writable:!1,value:b}),a.defineProperty(Object.prototype,"smash",{enumerable:!1,writable:!1,value:e}))}})(zUtil.prototype);
(function(a,d){function g(b){var c=new h,d=b||"";this.stop=function(){c.stop();a.log.debug(d+" took: "+c.duration()+" ms")};c.start()}function h(){var a=null,b=null,d=!1;this.start=function(){d||(b=null,d=!0,a=(new Date).getTime())};this.stop=function(){d&&(b=(new Date).getTime(),d=!1)};this.duration=function(){return d?(new Date).getTime()-a:b-a};this.reset=function(){d=!1;b=a=null}}a.classes=a.classes||{};var b=function(){return function(){var b=[],c=function(a){b.push(new g(a))},d=function(){0<
b.length&&b.pop().stop()};return function(b){a.defineProperty(b,"push",{get:function(){return c},writeable:!1});a.defineProperty(b,"pop",{get:function(){return d},writeable:!1});return b}({})}}();a.classes.StopwatchStack=b;a.classes.StopwatchWrapper=g;a.classes.Stopwatch=h;a.sw=new a.classes.StopwatchStack})(zUtil.prototype);
